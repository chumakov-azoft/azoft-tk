(function(t){function e(e){for(var i,a,n=e[0],l=e[1],c=e[2],h=0,u=[];h<n.length;h++)a=n[h],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&u.push(o[a][0]),o[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(u.length)u.shift()();return r.push.apply(r,c||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],i=!0,n=1;n<s.length;n++){var l=s[n];0!==o[l]&&(i=!1)}i&&(r.splice(e--,1),t=a(a.s=s[0]))}return t}var i={},o={app:0},r=[];function a(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=i,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(s,i,function(e){return t[e]}.bind(null,i));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var d=l;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0878":function(t,e,s){},"0b65":function(t,e,s){"use strict";var i=s("44c8"),o=s.n(i);o.a},"0f9d":function(t,e,s){},1:function(t,e){},2:function(t,e){},"21bb":function(t,e,s){"use strict";var i=s("0f9d"),o=s.n(i);o.a},"281b":function(t,e,s){},"2fb4":function(t,e,s){},3:function(t,e){},3486:function(t,e,s){t.exports=s.p+"img/blue-yellow.8c6de712.png"},4:function(t,e){},"44c8":function(t,e,s){},"4a1e":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);var i=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("router-view")],1)],1)},r=[],a={name:"App"},n=a,l=s("2877"),c=s("6544"),d=s.n(c),h=s("7496"),u=Object(l["a"])(n,o,r,!1,null,null,null),p=u.exports;d()(u,{VApp:h["a"]});var m=s("8c4f"),g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-content",[s("silentbox-group",t._l(t.$store.state.medias,(function(e,i){return s("silentbox-item",{key:"thumb"+i,staticClass:"d-none",attrs:{id:"thumb--"+e[6],src:"/"===e[4][0]?t.$store.state.settings.base+e[4]:e[4],mid:e[6],description:e.length?e[5]:"",autoplay:!1,"hide-controls":!0}})})),1),s("Zoom",{on:{clickMedia:t.onClick}}),s("add-player")],1)},f=[],y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("SvgPanZoom",{staticClass:"championsHighlight overHighlight zoom-fixed",staticStyle:{"user-select":"none"},style:1,attrs:{zoomEnabled:!0,dblClickZoomEnabled:!1,controlIconsEnabled:!1,fit:!1,center:!1,minZoom:.13,customEventsHandler:t.options},on:{svgpanzoom:t.registerSvgPanZoom}},[s("svg",{staticStyle:{width:"100%",height:"100%"}},[s("defs",[s("linearGradient",{attrs:{id:"goldGradient",x1:"-100",x2:"200",y1:"0",y2:"0",gradientUnits:"userSpaceOnUse","inkscape:collect":"always",spreadMethod:"reflect"}},[s("stop",{staticStyle:{"stop-color":"#eaeaea"},attrs:{offset:"0"}}),s("stop",{staticStyle:{"stop-color":"#DBDBDB"},attrs:{offset:"55%"}}),s("stop",{staticStyle:{"stop-color":"#F2F2F2"},attrs:{offset:"59%"}}),s("stop",{staticStyle:{"stop-color":"#ADA996"},attrs:{offset:"100%"}})],1),s("clipPath",{attrs:{id:"match"}},[s("rect",{attrs:{x:"0",y:"0",width:t.matchWidth,height:"60",rx:"5",ry:"5"}})]),s("clipPath",{attrs:{id:"half"}},[s("rect",{attrs:{x:"0",y:"0",width:t.matchWidth,height:"30",rx:"5",ry:"5"}})]),s("filter",{attrs:{id:"dropshadow",width:"135%",height:"140%"}},[s("feGaussianBlur",{attrs:{in:"SourceAlpha",stdDeviation:"3"}}),s("feOffset",{attrs:{dx:"2",dy:"2",result:"offsetblur"}}),s("feComponentTransfer",[s("feFuncA",{attrs:{type:"linear",slope:"0.5"}})],1),s("feMerge",[s("feMergeNode"),s("feMergeNode",{attrs:{in:"SourceGraphic"}})],1)],1)],1),s("g",[s("texts",{attrs:{texts:t.$store.state.texts}}),t._l(t.curves2,(function(e,i){return s("g",{key:"curves2-"+i,attrs:{id:"curves2-"+i}},[s("g",{staticStyle:{fill:"none","stroke-width":"4","stroke-linecap":"butt"}},t._l((t.curves2[i]||[]).filter(Boolean),(function(t,e){return s("path",{key:"curv2"+i+"."+e,attrs:{id:"curv2."+i+"."+e,stroke:t.color,"stroke-dasharray":t.dash,d:t.d}})})),0)])})),t._l(t.stages,(function(e,i){return s("g",{key:"stage-"+i,attrs:{id:"stage"+i,transform:"translate("+t.stagesPosition[i][0]+" "+t.stagesPosition[i][1]+")"}},[s("g",{staticStyle:{fill:"none","stroke-width":"4","stroke-linecap":"butt"}},t._l((t.curves[i]||[]).filter(Boolean),(function(t,e){return s("path",{key:"curv"+i+"."+e,attrs:{id:"curv"+i+"."+e,stroke:t.color,"stroke-dasharray":t.dash,d:t.d}})})),0),t._l(t.matches[i],(function(e,o){return s("g",{key:"game"+o},t._l((e||[]).filter(Boolean),(function(t,e){return s("match",{key:"match"+i+"."+o+"."+e,attrs:{index:e,seeds:t.seeds,order:t.order,position:t.position}})})),1)})),s("groupRow",{attrs:{s:i,position:[0,0]}})],2)})),s("texts",{attrs:{texts:t.$store.state.titles}}),t.showPlayers?s("g",{attrs:{id:"players-0"}},[s("players",{attrs:{index:0,order:[0]}})],1):t._e(),t.showPlaces?s("g",{attrs:{id:"places-0"}},t._l(t.placesArr,(function(e,i){return s("places",{key:"places"+i,attrs:{index:i,position:[t.placesPosition[i][0]+t.stagesPosition[t.stages.length-1][0],t.placesPosition[i][1]+t.stagesPosition[t.stages.length-1][1]],positionRelative:[t.placesPosition[i][0],t.placesPosition[i][1]],placesWidth:350}})})),1):t._e(),s("medias")],2)])])},v=[],x=s("c8b5"),b=s.n(x),w=s("2c0f"),$=s.n(w),P=(s("310e"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",{staticStyle:{filter:"url(#dropshadow)"},attrs:{status:t.status,id:"match-"+t.order[0]+"-"+t.order[1]+"-"+t.order[2]}},[s("g",{class:t.single?"clipHalf":"clipMatch",attrs:{transform:"translate("+t.position[0]+" "+(t.position[1]+(t.single?15:0))+")"}},[s("half",{class:{winner:t.finished&&t.win1||t.single&&!t.empty,empty:t.empty},attrs:{id:"player"+t.seeds[0],index:2*t.index,seed:t.seeds[0],order:t.order.concat(0),single:t.single}}),t.single?t._e():s("half",{class:{winner:t.finished&&t.win2,empty:t.empty},attrs:{id:"player"+t.seeds[1],index:2*t.index+1,seed:t.seeds[1],order:t.order.concat(1),transform:"translate(0 30.5)"}})],1)])}),S=[],_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",{class:t.placeClass,on:{mouseout:function(e){(!t.empty||t.isAdmin)&&t.$store.commit("out",{order:t.order,$event:e})},mouseover:function(e){(!t.empty||t.isAdmin)&&t.$store.commit("over",{order:t.order,$event:e})},click:function(e){return t.$store.commit("click",{order:t.order,$event:e})}}},[s("rect",{staticClass:"player",attrs:{width:t.matchWidth,height:"30"}}),s("rect",{staticClass:"player--shade",attrs:{x:"35",width:t.matchWidth-(t.single?34:69),height:"30"}}),s("rect",{staticClass:"player--chevron",attrs:{width:"6",height:"30",fill:t.chevron}}),t.showLogo?s("image",{attrs:{href:t.logo,x:"42.5",y:"6.5",height:"18",width:"18"}}):t._e(),t.empty?t._e():s("text",{staticClass:"match--rating",attrs:{x:"20",y:"19","text-anchor":"middle"}},[t._v(t._s(t.rating))]),t.empty&&t.hintPlace?s("text",{staticClass:"match--hint-place",attrs:{x:"20",y:"19","text-anchor":"middle"}},[t._v(t._s(t.hintPlace))]):t._e(),t.empty?t._e():s("text",{staticClass:"match--name",attrs:{x:t.showLogo?65:45,y:"21"}},[t._v(t._s(t.name))]),t.empty&&t.hint?s("text",{staticClass:"match--hint",attrs:{x:"45",y:"19"}},[t._v(t._s(t.hint))]):t._e(),t.started?s("text",{staticClass:"match--result",attrs:{x:t.matchWidth-18,y:"21","text-anchor":"middle"}},[t._v(t._s(t.score))]):t._e()])},C=[],k={name:"Half",components:{},props:{index:{type:Number,default:0},order:{type:Array,default:()=>[]},seed:{type:Number,default:0},single:{type:Boolean,default:!1}},data:()=>({}),computed:{showNotReadyNames:function(){return this.$store.state.settings.showNotReadyNames},empty:function(){return!this.showNotReadyNames&&""===this.status},rule:function(){return this.$store.state.settings.rule[0]},ruleGroup:function(){return this.rule[this.index][0]},rulePlace:function(){return this.rule[this.index][1]},hint:function(){return 1===this.order[0]&&0===this.order[1]?"место в группе "+this.ruleGroup:""},hintPlace:function(){return 1===this.order[0]&&0===this.order[1]?this.rulePlace+"е":""},players:function(){return this.$store.state.players},player:function(){return-1===this.seed||this.seed>=this.players.length?this.defaultPlayer:this.players[this.seed]},logo:function(){return this.player.logoUrl},name:function(){return this.player.short},deltas:function(){return this.$store.state.deltas[this.order[0]][this.seed]},currentDelta:function(){return this.deltas?this.deltas.find(t=>t.order[1]===this.order[1]&&t.order[2]===this.order[2]):null},lastRating:function(){return this.$store.getters.getDeltaRating(this.single?0:this.order[0],this.seed)},rating:function(){return Math.round(this.currentDelta?this.currentDelta.rating-this.currentDelta.value:this.lastRating)},matchStatus:function(){return this.$store.state.scores[this.order[0]][this.order[1]][this.order[2]][2]},status:function(){return this.order[3]?"ready1"===this.matchStatus?"":this.matchStatus:"ready2"===this.matchStatus?"":this.matchStatus},score:function(){return this.$store.state.scores[this.order[0]][this.order[1]][this.order[2]][this.order[3]]},started:function(){return this.status&&-1===this.status.indexOf("ready")},finished:function(){return"win1"===this.status||"win2"===this.status},sign:function(){return this.delta>0?"+":"-"},matchWidth:function(){return this.$store.state.settings.matchWidth},showLogo:function(){return this.$store.state.settings.showLogo&&!this.empty&&this.logo},chevron:function(){return""===this.status?this.$store.state.settings.defaultChevronColor:this.$store.state.colors[this.seed]},isAdmin(){return"admin"===this.$store.state.settings.role},finalsSize(){return this.$store.state.settings.finalsSizes[0]},places(){return this.$store.state.places[this.$store.state.places.length-1]},place(){return void 0!==this.player.place?this.player.place%this.finalsSize+1:""},placeClass(){return this.place&&this.place<4?"place--"+this.place:null}}},T=k,O=(s("eafc"),Object(l["a"])(T,_,C,!1,null,null,null)),W=O.exports,A={name:"Match",components:{Half:W},props:{index:{type:Number,default:0},order:{type:Array,default:()=>[]},seeds:{type:Array,default:()=>[]},position:{type:Array,default:()=>[0,0]}},data:()=>({}),computed:{showNotReadyNames:function(){return this.$store.state.settings.showNotReadyNames},empty:function(){return!this.showNotReadyNames&&""===this.status},status:function(){return this.$store.state.scores[this.order[0]][this.order[1]][this.order[2]][2]},finished:function(){return"win1"===this.status||"win2"===this.status},status1:function(){return"ready2"===this.status?"":this.status},status2:function(){return"ready1"===this.status?"":this.status},sign:function(){return this.delta>0?"+":"-"},single:function(){return-1===this.seeds[0]||-1===this.seeds[1]},win1:function(){return"win1"===this.status},win2:function(){return"win2"===this.status},matchWidth:function(){return this.$store.state.settings.matchWidth},matchHeight:function(){return"single"===this.status?this.$store.state.settings.matchHeight/2:this.$store.state.settings.matchHeight}}},V=A,j=(s("7b2c"),Object(l["a"])(V,P,S,!1,null,null,null)),M=j.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",[s("text",{staticClass:"group--title",attrs:{transform:"translate("+t.position[0]+" "+t.position[1]+")",x:"5",y:"-10","text-anchor":"start"}},[t._v(t._s(t.groupTitle))]),s("g",{staticStyle:{filter:"url(#dropshadow)"},attrs:{transform:"translate("+t.position[0]+" "+t.position[1]+")",id:"places-"+t.index+"-"+t.index},on:{click:function(e){e.shiftKey,t.onSelect(t.positionRelative)}}},[s("g",[s("rect",{staticClass:"group",attrs:{width:t.placesWidth,height:t.groupHeight}}),s("text",{staticClass:"match--rating",attrs:{x:"22",y:"22","text-anchor":"middle"}},[t._v("#")]),s("text",{staticClass:"match--rating",attrs:{x:"49",y:"22","text-anchor":"end"}},[t._v("R")]),s("text",{staticClass:"match--rating",attrs:{x:t.showLogo?110:94,y:"22","text-anchor":"end"}},[t._v(t._s(t.isPairs?"Пара":"Игрок"))]),s("text",{staticClass:"match--rating",attrs:{x:t.placesWidth-26,y:"22","text-anchor":"end"}},[t._v("Дельта")]),t._l(t.placesCurrent,(function(e,i){return s("place",{key:"place"+e.place,attrs:{transform:"translate(10 "+(30*i+29)+")",index:e.place,order:e.order,seed:e.seed,backWidth:t.placesWidth-20,backVisible:!(i%2)}})}))],2)])])},L=[],N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",{class:"winner place--"+(t.index+1),attrs:{id:"player"+t.seed},on:{mouseout:function(e){return t.$store.commit("out",{order:t.order,$event:e})},mouseover:function(e){return t.$store.commit("over",{order:t.order,$event:e})}}},[t.backVisible?s("rect",{staticClass:"group-player-shade",attrs:{width:t.backWidth,height:"30"}}):t._e(),t.seed>=0?s("rect",{staticClass:"group-player",attrs:{width:t.backWidth,height:"30"}}):t._e(),t.seed>=0&&t.delta>=0?s("rect",{staticClass:"place--plus",attrs:{x:t.placeWidth-49,width:62,y:"2",rx:"5",height:"26"}}):t._e(),t.seed>=0&&t.delta<0?s("rect",{staticClass:"place--minus",attrs:{x:t.placeWidth-49,width:62,y:"2",rx:"5",height:"26"}}):t._e(),s("text",{staticClass:"group-player-order",attrs:{x:"12",y:"19","text-anchor":"middle"}},[t._v(t._s(t.index+1))]),t.seed>=0?s("text",{staticClass:"group-player-rating",attrs:{x:"36",y:"19","text-anchor":"middle"}},[t._v(t._s(t.rating))]):t._e(),t.seed>=0&&t.showLogo?s("image",{attrs:{href:t.logo,x:"57",y:"6.5",height:"18",width:"18"}}):t._e(),t.seed>=0?s("text",{staticClass:"place--name",attrs:{x:t.showLogo?80:57,y:"21",textLength:t.stretchNames?t.nameWidth:null}},[t._v(t._s(t.name))]):t._e(),t.seed>=0?s("text",{staticClass:"place--delta",attrs:{x:t.placeWidth-17,y:"21","text-anchor":"middle"}},[t._v(t._s((t.delta>0?"+":"")+t.delta))]):t._e()])},E=[],D={name:"Place",props:{index:{type:Number,default:0},order:{type:Array,default:()=>[]},seed:{type:Number,default:0},backVisible:{type:Boolean,default:!0},backWidth:{type:Number,default:300}},data:()=>({defaultPlayer:{short:"",rating:"",logo:"",click:!1}}),computed:{players(){return this.$store.state.players},player(){return-1===this.seed||this.seed>=this.players.length?this.defaultPlayer:this.players[this.seed]},rating(){return Math.round(this.deltas[this.deltas.length-1].rating)},deltas(){return-1===this.seed?0:this.$store.state.deltas[this.order[0]][this.seed]},delta(){return this.deltas?this.$store.getters.getRatingRound(this.deltas[this.deltas.length-1].rating-this.player.rating):0},logo(){return this.player.logoUrl},name(){return this.player.short2},nameWidth(){return this.$store.state.settings.nameWidth},isAdmin(){return"admin"===this.$store.state.settings.role},showLogo(){return this.$store.state.settings.showLogo&&this.logo},stretchNames(){return this.$store.state.settings.stretchNames},placeWidth:function(){return 315}}},I=D,K=(s("b745"),Object(l["a"])(I,N,E,!1,null,null,null)),F=K.exports,z={name:"Places",components:{Place:F},props:{index:{type:Number,default:0},position:{type:Array,default:()=>[0,0]},positionRelative:{type:Array,default:()=>[0,0]},placesWidth:{type:Number,default:200}},data:()=>({deltasWidth:80}),computed:{showLogo(){return this.$store.state.settings.showLogo&&this.logo},isAdmin:function(){return"admin"===this.$store.state.settings.role},isPairs:function(){return"pairs"===this.$store.state.settings.type},stages(){return this.$store.state.info.stages},places:function(){return this.$store.state.places[this.stages.length-1]},placesCurrent:function(){return this.places.filter(t=>t.fin===this.index)},groupTitle:function(){return"Победители "+(this.index+1)+"го финала"},groupHeight:function(){return 30*this.placesCurrent.length+37},nameWidth:function(){return this.$store.state.settings.nameWidth}},methods:{onChangeDeltasWidth(t){},onChangeHeight(t){},onClick(t){},onSelect(t){console.log("onSelect place",[this.index,...t]),this.$store.state.edit.itemsToMove.push([this.index,...t])}},mounted(){}},G=z,B=Object(l["a"])(G,R,L,!1,null,null,null),X=B.exports,H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",{staticStyle:{filter:"url(#dropshadow)"}},t._l(t.$store.state.medias,(function(e,i){return s("image",{key:"icon"+i,staticClass:"medias",attrs:{id:"icon--"+e[6],href:"/"===e[0][0]?t.$store.state.settings.base+e[0]:e[0],x:e[1],y:e[2],width:e[3],title:e.length?e[5]:""},on:{click:function(s){s.shiftKey?t.onSelect(e):t.onClick(e[6])}}})})),0)},U=[],J={name:"Medias",props:{},data:()=>({}),watch:{medias:{immediate:!0,handler(t,e){null!==this.$route.params.media&&setTimeout(()=>this.onClick(this.$route.params.media),500)}}},methods:{onOver(t,e){this.diagonal||this.$store.commit("overGroupCell",{order:this.order,$event:t})},onOut(t,e){this.diagonal||this.$store.commit("outGroupCell",{order:this.order,$event:t})},onClick(t){this.$store.state.zoom.$emit("clickMedia",t),this.$route.params.media!==t&&this.$router.replace({params:{...this.$route.params,media:t}})},onSelect(t){this.$store.state.edit.itemsToMove.push(t)}}},q=J,Z=(s("e9ed"),Object(l["a"])(q,H,U,!1,null,null,null)),Y=Z.exports,Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",{attrs:{transform:"translate("+t.position[0]+" "+t.position[1]+")",id:"group-row-0"}},t._l(t.groups[t.s]||[],(function(e,i){return s("group",{key:"group"+t.s+"."+i,attrs:{index:e.index,order:e.order,seeds:e.seeds,position:e.position,rowWidth:t.rowWidth},on:{changeRowWidth:t.onChangeWidth,changeHeight:t.onChangeHeight}})})),1)},tt=[],et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",[s("text",{staticClass:"group--title",attrs:{transform:"translate("+t.position[0]+" "+t.position[1]+")",x:"5",y:"-12","text-anchor":"start"}},[t._v(t._s(t.groupTitle))]),s("g",{staticStyle:{filter:"url(#dropshadow)"},attrs:{transform:"translate("+t.position[0]+" "+t.position[1]+")",id:"group-"+t.order[0]+"-"+t.index}},[s("defs",[s("clipPath",{attrs:{id:"group"+t.order[0]+"-"+t.index}},[s("rect",{attrs:{x:"0",y:"0",width:t.rowWidth,height:t.groupHeight,rx:"5",ry:"5"}})])]),s("g",{style:"clipPath:url(#group"+t.order[0]+"-"+t.index+")"},[s("rect",{staticClass:"group",attrs:{width:t.rowWidth,height:t.groupHeight}}),s("text",{staticClass:"match--rating",attrs:{x:"22",y:"22","text-anchor":"middle"}},[t._v("#")]),s("text",{staticClass:"match--rating",attrs:{x:"49",y:"22","text-anchor":"end"}},[t._v("R")]),s("text",{staticClass:"match--rating",attrs:{x:t.showLogo?100:94,y:"22","text-anchor":"end"}},[t._v(t._s(t.isPairs?"Пара":"Игрок"))]),s("text",{staticClass:"match--rating",attrs:{x:30*t.seeds.length+t.nameWidth+117,y:"22","text-anchor":"end"}},[t._v("Очки")]),s("text",{staticClass:"match--rating",attrs:{x:30*t.seeds.length+t.nameWidth+110+this.deltasWidth/2,y:"22","text-anchor":"start"}},[t._v("Дельта")]),s("text",{staticClass:"match--rating",attrs:{x:t.rowWidth-20,y:"22","text-anchor":"end"}},[t._v("Место")]),t._l(t.seeds,(function(e,i){return s("text",{key:"groupKey"+i,staticClass:"match--rating",attrs:{x:t.nameWidth+97+30*i,y:"22","text-anchor":"end"}},[t._v(t._s(i+1))])})),t._l(t.seeds,(function(e,i){return s("group-line",{key:"groupLine"+i,attrs:{id:"player"+e,transform:"translate(10 "+(30*i+29)+")",index:i,seeds:t.seeds,order:t.order.concat([i]),backWidth:t.rowWidth-20,backVisible:!(i%2),deltasWidth:t.deltasWidth}})}))],2)])])},st=[],it=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",{class:t.placeClass,on:{mouseout:function(e){return t.$store.commit("outPlayer",{seed:t.seed,$event:e})},mouseover:function(e){return t.$store.commit("overPlayer",{seed:t.seed,$event:e})}}},[t.backVisible?s("rect",{staticClass:"group-player-shade",attrs:{width:t.backWidth,height:"30"}}):t._e(),t.seed>=0?s("rect",{staticClass:"group-player",attrs:{width:t.nameWidth+70,height:"30"}}):t._e(),t.seed>=0?s("rect",{staticClass:"group-player-end",attrs:{x:t.tableAndNameWidth+10,width:Math.max(1,t.backWidth-t.tableAndNameWidth-10),height:"30"}}):t._e(),s("text",{staticClass:"group-player-order",attrs:{x:"12",y:"19","text-anchor":"middle"}},[t._v(t._s(t.order[2]+1))]),t.seed>=0?s("text",{staticClass:"group-player-rating",attrs:{x:"36",y:"19","text-anchor":"middle"}},[t._v(t._s(t.rating))]):t._e(),t.seed>=0&&t.showLogo?s("image",{attrs:{href:t.logo,x:"57",y:"6.5",height:"18",width:"18"}}):t._e(),t.seed>=0?s("text",{staticClass:"group-player-name",attrs:{x:t.showLogo?80:57,y:"21",textLength:t.stretchNames?t.nameWidth:null}},[t._v(t._s(t.name))]):t._e(),s("g",{attrs:{transform:"translate("+(t.nameWidth+70)+" 0)"}},t._l(t.seeds,(function(e,i){return s("group-cell",{key:"groupCell"+i,staticClass:"group-cell",attrs:{id:"group-"+t.order[0]+"-"+t.order[1]+"-"+t.order[2]+"-"+i,transform:"translate("+30*i+" 0)",order:t.order.concat([i])}})})),1),t.seed>=0?s("text",{staticClass:"group-player-score",attrs:{x:t.tableAndNameWidth+35,y:"21","text-anchor":"middle"}},[t._v(t._s(t.total))]):t._e(),t.seed>=0?s("g",{attrs:{transform:"translate("+(t.tableAndNameWidth+50)+" 0)"}},t._l(t.deltas,(function(t,e){return s("group-delta",{key:"groupDelta"+e,staticClass:"group-delta",attrs:{transform:"translate("+(t.x+8)+" 0)",delta:t}})})),1):t._e(),1===t.place.length?s("text",{staticClass:"group-player-place",attrs:{x:t.backWidth-25,y:"21","text-anchor":"middle"}},[t._v(t._s(t.place[0]))]):t._e(),2===t.place.length?s("text",{staticClass:"group-player-range",attrs:{x:t.backWidth-25,y:"21","text-anchor":"middle"}},[t._v(t._s(t.place[0]+".."+t.place[1]))]):t._e()])},ot=[],rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",{on:{mouseover:function(e){return t.onOver(e)},mouseout:function(e){return t.onOut(e)}}},[t.diagonal?s("rect",{staticClass:"group-cell-shade",attrs:{width:"30",height:"30"}}):t.empty?s("rect",{staticClass:"group-cell-empty",attrs:{width:"30",height:"30"}}):t._e(),t.plus?s("rect",{staticClass:"group-cell-plus",attrs:{width:"30",height:"30"}}):t._e(),t.minus?s("rect",{staticClass:"group-cell-minus",attrs:{width:"30",height:"30"}}):t._e(),t.progress?s("rect",{staticClass:"group-cell-progress",attrs:{width:"30",height:"30"}}):t._e(),t.started?s("text",{staticClass:"group-cell-text",attrs:{x:"15",y:"21",width:"30",height:"30","text-anchor":"middle"}},[t._v(t._s(t.resultText))]):t._e()])},at=[],nt={name:"GroupCell",props:{order:{type:Array,default:()=>[]}},data:()=>({}),computed:{version:function(){return this.$store.state.version},result:function(){return this.$store.state.scores[this.order[0]][this.order[1]][this.order[2]][this.order[3]]},resultText:function(){return"Tex"===this.result[0]||"Tex"===this.result[1]?"Tex":this.result[0]+":"+this.result[1]},diagonal:function(){return this.order[2]===this.order[3]},empty:function(){return""===this.status},started:function(){return this.status&&-1===this.status.indexOf("ready")},progress:function(){return"progress"===this.status},finished:function(){return"win1"===this.status||"win2"===this.status},plus:function(){return"win1"===this.status},minus:function(){return"win2"===this.status},status:function(){return this.diagonal?"":this.result?this.result[2]:""}},methods:{onOver(t){this.diagonal||this.$store.commit("overGroupCell",{order:this.order,$event:t}),t.stopImmediatePropagation()},onOut(t){this.diagonal||this.$store.commit("outGroupCell",{order:this.order,$event:t}),t.stopImmediatePropagation()}}},lt=nt,ct=(s("7b09"),Object(l["a"])(lt,rt,at,!1,null,null,null)),dt=ct.exports,ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",{attrs:{id:"group-"+t.order[0]+"-"+t.order[1]+"-"+t.order[2]+"-"+t.order[3]},on:{mouseover:function(e){return t.onOver(e)},mouseout:function(e){return t.onOut(e)}}},[t.delta.win?s("rect",{staticClass:"group-delta-plus",attrs:{x:"0",y:"5",width:t.delta.width,height:"20"}}):s("rect",{staticClass:"group-delta-minus",attrs:{x:"0",y:"5",width:t.delta.width,height:"20"}}),s("text",{staticClass:"group-delta-text",attrs:{x:t.delta.width/2,y:"19","text-anchor":"middle"}},[t._v(t._s(t.delta.text))])])},ut=[],pt={name:"GroupDelta",props:{delta:{type:Object,default:()=>{}}},data:()=>({}),computed:{order:function(){return this.delta.order}},methods:{onOver(t){this.delta.isGroup?this.$store.commit("overGroupCell",{order:this.order,$event:t}):this.$store.commit("overMatchCell",{order:this.order,$event:t}),t.stopImmediatePropagation()},onOut(t){this.delta.isGroup?this.$store.commit("outGroupCell",{order:this.order,$event:t}):this.$store.commit("outMatchCell",{order:this.order,$event:t}),t.stopImmediatePropagation()}}},mt=pt,gt=(s("0b65"),Object(l["a"])(mt,ht,ut,!1,null,null,null)),ft=gt.exports,yt={name:"GroupLine",components:{GroupCell:dt,GroupDelta:ft},props:{index:{type:Number,default:0},order:{type:Array,default:()=>[]},seeds:{type:Array,default:()=>[]},backWidth:{type:Number,default:300},backVisible:{type:Boolean,default:!0},deltasWidth:{type:Number,default:0}},computed:{defaultPlayer:function(){return{short:"Записывайтесь!",rating:0,logoUrl:"/img/PlusGreen.svg",click:!0}},version:function(){return this.$store.state.version},players:function(){return this.$store.state.players},player:function(){return-1===this.seed||this.seed>=this.players.length?this.defaultPlayer:this.players[this.seed]},seed:function(){return this.seeds[this.order[2]]},rating:function(){return this.player.rating},logo:function(){return this.player.logoUrl},name:function(){return this.player.short},nameWidth:function(){return this.$store.state.settings.nameWidth},tableWidth:function(){return 30*this.seeds.length},tableAndNameWidth:function(){return this.tableWidth+this.nameWidth+60},result:function(){return this.$store.state.scores[this.order[0]][this.order[1]][this.order[2]]},total:function(){return this.result.reduce((t,e)=>e?"win1"===e[2]?t+2:"win2"===e[2]&&"Tex"!==e[0]?t+1:t:t,0)},deltas(){return this.$store.state.deltas[this.order[0]][this.seed]},showLogo(){return this.$store.state.settings.showLogo&&this.logo},stretchNames(){return this.$store.state.settings.stretchNames},place(){return this.$store.state.places[this.order[0]][this.order[1]][this.order[2]]||[]},placeClass(){if(1===this.place.length){const t=this.place[0].toString(),e=t.split("..");if("1"===e[0])return"place--1";if("2"===e[0])return"place--2";if("3"===e[0])return"place--3"}return null},chevron(){return""===this.status?this.$store.state.settings.defaultChevronColor:this.$store.state.colors[this.seed]}},methods:{onOver(t){this.diagonal||this.$store.commit("overGroupCell",{order:this.order,$event:t})},onOut(t){this.diagonal||this.$store.commit("outGroupCell",{order:this.order,$event:t})}}},vt=yt,xt=(s("7875"),Object(l["a"])(vt,it,ot,!1,null,null,null)),bt=xt.exports,wt={name:"Group",components:{GroupLine:bt},props:{index:{type:Number,default:0},order:{type:Array,default:()=>[]},seeds:{type:Array,default:()=>[]},position:{type:Array,default:()=>[0,0]},rowWidth:{type:Number,default:200}},data:()=>({deltasWidth:50}),computed:{showLogo(){return this.$store.state.settings.showLogo},isPairs:function(){return"pairs"===this.$store.state.settings.type},groupTitle:function(){return this.$store.state.mesh[this.order[0]][this.order[1]][4]},groupHeight:function(){return 30*this.seeds.length+37},nameWidth:function(){return this.$store.state.settings.nameWidth}},methods:{onChangeDeltasWidth(t){}},mounted(){}},$t=wt,Pt=Object(l["a"])($t,et,st,!1,null,null,null),St=Pt.exports,_t={name:"GroupRow",components:{Group:St},props:{s:{type:Number,default:0},position:{type:Array,default:()=>[0,0]}},data:()=>({}),computed:{rowWidth:function(){return this.$store.state.settings.groupsRowWidth[this.s][0]||750},groups(){return this.$store.state.groups}},methods:{onChangeWidth(t){},onChangeHeight(t){}}},Ct=_t,kt=(s("a48f"),Object(l["a"])(Ct,Q,tt,!1,null,null,null)),Tt=kt.exports,Ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",[s("g",{attrs:{transform:"translate("+t.playersPositionX+" "+t.playersPositionY+")",id:"players-"+t.order[0]+"-"+t.index}},[s("text",{staticClass:"group--title",attrs:{x:"5",y:"-12","text-anchor":"start"}},[t._v(t._s(t.groupTitle))]),s("g",{staticStyle:{filter:"url(#dropshadow)"}},[s("rect",{staticClass:"group",attrs:{width:t.playersWidth,height:t.groupHeight}}),s("text",{staticClass:"match--rating",attrs:{x:"22",y:"22","text-anchor":"middle"}},[t._v("#")]),s("text",{staticClass:"match--rating",attrs:{x:"49",y:"22","text-anchor":"end"}},[t._v("R")]),s("text",{staticClass:"match--rating",attrs:{x:t.showLogo?110:94,y:"22","text-anchor":"end"}},[t._v(t._s(t.isPairs?"Пара":"Игрок"))]),s("text",{staticClass:"match--rating",attrs:{x:t.deltaPosition,y:"22","text-anchor":"start"}},[t._v(t._s(t.deltaText))]),s("text",{staticClass:"match--rating",attrs:{x:t.playersWidth-20,y:"22","text-anchor":"end"}},[t._v("Место")]),t._l(t.players,(function(e,i){return s("player",{key:"player"+i,attrs:{id:"player"+i,transform:"translate(10 "+(30*i+29)+")",index:i,order:t.order.concat([i]),backWidth:t.playersWidth-20,backVisible:!(i%2)}})})),t.isAdmin?s("image",{attrs:{href:"/img/PlusGreen.svg",x:"-62",y:"13",height:"42",width:"42"},on:{click:function(e){t.$store.state.edit.addPlayerDialog=!0}}}):t._e()],2)])])},Wt=[],At=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",{class:t.placeClass,on:{click:t.editPlayer,mouseout:function(e){return t.$store.commit("outPlayer",{seed:t.seed,$event:e})},mouseover:function(e){return t.$store.commit("overPlayer",{seed:t.seed,$event:e})}}},[t.backVisible?s("rect",{staticClass:"group-player-shade",attrs:{width:t.backWidth,height:"30"}}):t._e(),t.seed>=0?s("rect",{staticClass:"group-player",attrs:{width:t.nameWidth+120,height:"30"}}):t._e(),t.seed>=0?s("rect",{staticClass:"group-player-end",attrs:{x:t.nameWidth+120,width:t.backWidth-t.nameWidth-120,height:"30"}}):t._e(),s("text",{staticClass:"group-player-order",attrs:{x:"12",y:"19","text-anchor":"middle"}},[t._v(t._s(t.index+1))]),t.seed>=0?s("text",{staticClass:"group-player-rating",attrs:{x:"36",y:"19","text-anchor":"middle"}},[t._v(t._s(t.rating))]):t._e(),t.seed>=0&&t.showLogo?s("image",{attrs:{href:t.logo,x:"57",y:"6.5",height:"18",width:"18"}}):t._e(),t.seed>=0?s("text",{staticClass:"group-player-name",attrs:{x:t.showLogo?80:57,y:"21",textLength:t.stretchNames?t.nameWidth:null}},[t._v(t._s(t.name))]):t._e(),t.seed>=0?s("g",{attrs:{transform:"translate("+(t.nameWidth+120)+" 0)"}},t._l(t.deltas,(function(e,i){return s("group-delta",{key:"groupDelta"+i,staticClass:"group-delta",attrs:{transform:"translate("+(e.x+8)+" 0)",order:t.order.concat([e.index]),delta:e}})})),1):t._e(),s("text",{staticClass:"group-player-place",attrs:{x:t.backWidth-25,y:"21","text-anchor":"middle"}},[t._v(t._s(t.place))])])},Vt=[],jt={name:"Player",components:{GroupDelta:ft},props:{index:{type:Number,default:0},order:{type:Array,default:()=>[]},backVisible:{type:Boolean,default:!0},backWidth:{type:Number,default:300}},data:()=>({defaultPlayer:{short:"Записывайтесь!",rating:0,logo:"/img/PlusGreen.svg",click:!0}}),computed:{players(){return this.$store.state.players},player(){return-1===this.seed||this.seed>=this.players.length?this.defaultPlayer:this.players[this.seed]},seed(){return this.index},rating(){return this.player.rating},logo(){return this.player.logoUrl},name(){return this.player.short2},nameWidth(){return this.$store.state.settings.nameWidth},isAdmin(){return"admin"===this.$store.state.settings.role},showLogo(){return this.$store.state.settings.showLogo&&this.logo},stretchNames(){return this.$store.state.settings.stretchNames},result(){return[]},deltas(){return this.$store.state.deltas[this.order[0]][this.seed].concat(this.$store.state.deltas[this.order[0]+1]&&this.$store.state.deltas[this.order[0]+1][this.seed]?this.$store.state.deltas[this.order[0]+1][this.seed]:[])},places(){return this.$store.state.places[this.$store.state.places.length-1]},place(){return void 0!==this.player.place?this.player.place+1:""},placeClass(){return this.place&&this.place<4?"place--"+this.place:null},chevron(){return""===this.status?this.$store.state.settings.defaultChevronColor:this.$store.state.colors[this.seed]}},methods:{editPlayer(){this.isAdmin&&(this.$store.state.edit.addPlayerDialog=!0,this.$store.state.edit.addPlayerSeed=this.seed)},onOver(t){this.diagonal||this.$store.commit("overGroupCell",{order:this.order,$event:t})},onOut(t){this.diagonal||this.$store.commit("outGroupCell",{order:this.order,$event:t})}}},Mt=jt,Rt=(s("74c9"),Object(l["a"])(Mt,At,Vt,!1,null,null,null)),Lt=Rt.exports,Nt={name:"Players",components:{Player:Lt},props:{index:{type:Number,default:0},order:{type:Array,default:()=>[]}},data:()=>({deltasWidth:80}),computed:{showLogo(){return this.$store.state.settings.showLogo&&this.logo},isAdmin:function(){return"admin"===this.$store.state.settings.role},isPairs:function(){return"pairs"===this.$store.state.settings.type},players:function(){return this.$store.state.players},groupTitle:function(){return"Игроки"},groupHeight:function(){return 30*this.players.length+37},nameWidth:function(){return this.$store.state.settings.nameWidth},deltaPosition:function(){return this.nameWidth+140},deltaText:function(){return this.$store.state.settings.playersDeltasWidth>130?"Дельта рейтинга":this.$store.state.settings.playersDeltasWidth>20?"Дельта":""},playersWidth:function(){return this.$store.state.settings.playersWidth+this.$store.state.settings.playersDeltasWidth},playersPosition:function(){return this.$store.state.settings.playersPosition},playersPositionX:function(){return this.playersPosition[0]-this.$store.state.settings.playersDeltasWidth},playersPositionY:function(){return this.playersPosition[1]}},methods:{onChangeDeltasWidth(t){},onChangeHeight(t){}},mounted(){}},Et=Nt,Dt=(s("74f1"),Object(l["a"])(Et,Ot,Wt,!1,null,null,null)),It=Dt.exports,Kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",t._l(t.texts,(function(e,i){return s("text",{key:"text"+i,staticClass:"texts",style:e[3],attrs:{"text-anchor":e.length<=3?"start":e[4],x:e[1],y:e[2]},on:{click:function(s){s.shiftKey?t.onSelect(e):t.onClick(i)}}},[t._v(t._s(e[0]))])})),0)},Ft=[],zt={name:"Texts",props:{texts:Array,default:()=>[]},data:()=>({}),methods:{onClick(t){},onSelect(t){this.$store.state.edit.itemsToMove.push(t)}}},Gt=zt,Bt=Object(l["a"])(Gt,Kt,Ft,!1,null,null,null),Xt=Bt.exports,Ht={components:{SvgPanZoom:$.a,Players:It,GroupRow:Tt,Match:M,Places:X,Medias:Y,Texts:Xt},data:()=>({visible:!1,hammer:null,options:{haltEventListeners:["touchstart","touchend","touchmove","touchleave","touchcancel"],init:function(t){const e=t.instance;let s=1,i=0,o=0;this.hammer=b()(t.svgElement),this.hammer.on("panleft panright tap press",(function(t){})),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("doubletap",(function(t){e.$store.dispatch("centerMatch")})),this.hammer.on("panstart panmove",(function(t){"panstart"===t.type&&(i=0,o=0),e.panBy({x:t.deltaX-i,y:t.deltaY-o}),i=t.deltaX,o=t.deltaY;const s=e.getPan();localStorage["zoom"]=JSON.stringify({x:s.x,y:s.y,scale:e.getZoom(),section:e.$route.params["section"]})})),this.hammer.on("pinchstart pinchmove",(function(t){if("pinchstart"===t.type&&(s=e.getZoom(),e.zoomAtPoint(s*t.scale,{x:t.center.x,y:t.center.y})),t.deltaX){const t=e.getPan();localStorage["zoom"]=JSON.stringify({x:t.x,y:t.y,scale:e.getZoom(),section:e.$route.params["section"]})}e.zoomAtPoint(s*t.scale,{x:t.center.x,y:t.center.y})})),t.svgElement.addEventListener("touchmove",t=>t.preventDefault())},destroy:function(){}}}),computed:{showPlayers(){return this.$store.state.settings.showPlayers},showPlaces(){return this.$store.state.settings.showPlaces},placesArr(){return new Array(this.$store.state.settings.finalsNum).fill(0)},placesOffset(){return this.$store.state.settings.finalsSizes},stagesPosition(){return this.$store.state.settings.stagesPosition},playersPosition(){return this.$store.state.settings.playersPosition},placesPosition(){return this.$store.state.settings.placesPosition},matchWidth(){return this.$store.state.settings.matchWidth},players(){return this.$store.state.players},stages(){return this.$store.state.info.stages},matches(){return this.$store.state.matches},places(){return this.$store.state.places},curves(){return this.$store.state.curves},curves2(){return this.$store.state.curves2}},methods:{registerSvgPanZoom(t){this.$store.state.zoom=this,this.$store.state.zoomer=t,t.$store=this.$store,t.$route=this.$route,setTimeout(()=>this.visible=!0)}},mounted(){!0===navigator.standalone||setTimeout(()=>window.scrollTo(0,1))},beforeDestroy(){this.$store&&(this.$store.state.zoomer&&(this.$store.state.zoomer.$store=null,this.$store.state.zoomer.$route=null,this.$store.state.zoomer=null),this.$store.state.zoom=null)}},Ut=Ht,Jt=(s("a193"),Object(l["a"])(Ut,y,v,!1,null,null,null)),qt=Jt.exports,Zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-row",{attrs:{justify:"center"}},[s("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v(t._s(t.playerEdit?"Редактировать":"Добавить")+" игрока")])]),s("v-card-text",[s("v-container",[s("v-row",{staticClass:"mx-3"},[s("v-col",{staticStyle:{position:"relative"},attrs:{cols:"12"}},["admin"===t.$store.state.settings.role&&t.$store.state.settings.showLogo&&t.showFields&&t.currentLogo?s("v-speed-dial",{staticClass:"menu",staticStyle:{position:"absolute",left:"-24px",top:"32px"},attrs:{top:"",left:"",direction:"bottom",transition:"slide-y-reverse-transition"},scopedSlots:t._u([{key:"activator",fn:function(){return[s("v-img",{attrs:{width:"25",height:"25",src:t.logoUrl}})]},proxy:!0}],null,!1,2137393990),model:{value:t.showLogos,callback:function(e){t.showLogos=e},expression:"showLogos"}},t._l(t.logos,(function(e,i){return s("v-img",{key:"logo"+i,staticClass:"mb-1",attrs:{width:"15",height:"15",src:t.$store.state.settings.base+e},on:{click:function(s){return t.changeLogo(e)}}})})),1):t._e(),s("v-autocomplete",{ref:"autocomplete",staticClass:"search",attrs:{label:"ФИО*",autofocus:"","auto-select-first":"",loading:t.loading,items:t.playersAll,"search-input":t.search,filter:t.searchFilter,"item-text":"name","item-value":"","hide-details":"","hide-no-data":t.playerEdit},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e}},scopedSlots:t._u([{key:"no-data",fn:function(){return[s("span",{staticClass:"mx-2"},[t._v("Имя не найдено. "),s("a",{on:{click:t.createPlayer}},[t._v("Добавить нового игрока")])])]},proxy:!0}]),model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1),t.showFields?s("v-col",{attrs:{cols:"12"}},[s("v-text-field",{ref:"rating",attrs:{label:"Рейтинг*",required:"",hint:"введите рейтинг"},model:{value:t.currentRating,callback:function(e){t.currentRating=e},expression:"currentRating"}})],1):t._e(),t.showFields?s("v-col",{attrs:{cols:"12"}},[s("v-text-field",{attrs:{label:"Город*",required:""},model:{value:t.currentLocation,callback:function(e){t.currentLocation=e},expression:"currentLocation"}})],1):t._e()],1)],1)],1),s("v-card-actions",[t.playerEdit?s("v-btn",{ref:"remove",attrs:{color:"red dark",dark:"",text:""},on:{click:t.deletePlayer}},[t._v("Удалить")]):t._e(),s("v-spacer"),t.showFields?s("v-btn",{ref:"add",attrs:{color:"blue dark",dark:"",text:""},on:{click:t.savePlayer}},[t._v(t._s(t.saveButtonMessage))]):t._e(),s("v-btn",{attrs:{color:"blue dark",dark:"",text:""},on:{click:t.closeDialog}},[t._v("Закрыть")])],1)],1)],1),s("v-snackbar",{staticClass:"alert",attrs:{timeout:2500,color:t.playerEdit?"yellow":"blue",dark:"",dense:"",icon:"mdi-account",transition:"scroll-y-reverse-transition"},model:{value:t.showAlert,callback:function(e){t.showAlert=e},expression:"showAlert"}},[t._v(t._s(t.snackbarMessage)+"\n  ")])],1)},Yt=[],Qt=s("bc3a"),te=s.n(Qt),ee={name:"AddPlayer",components:{},props:{},data:()=>({items:[],model:[],search:null,loading:!1,showFields:!1,currentRating:0,currentLocation:"",currentLogo:"",showLogos:!1,showAlert:!1,showAlertName:null,oldPlayerName:"",oldKeyDown:null}),watch:{showDialog(t){if(t){if(this.oldKeyDown=document.onkeydown,document.onkeydown=this.onKeyDown,setTimeout(()=>{this.$refs.autocomplete.focus()},100),this.playerEdit){this.showFields=!0;const t=this.players[this.playerEditSeed];this.currentLocation=t.location,this.currentRating=t.rating,this.currentLogo=t.logo,this.model=t.name,setTimeout(()=>{setTimeout(()=>this.$refs.rating.focus(),100)})}}else document.onkeydown=this.oldKeyDown},model(t){if(t){let e=this.players.find(e=>e.name===t);e?(this.$store.state.edit.addPlayerSeed=this.players.findIndex(e=>e.name===t),this.oldPlayerName=e.name):e=this.playersAll.find(e=>e.name===t),e&&setTimeout(()=>{this.showFields=!0,this.currentLocation=e.location,this.currentRating=e.rating,this.currentLogo=e.logo,setTimeout(()=>this.$refs.add.$el.focus())})}},search(t){t&&t.toLowerCase()!==this.searchString&&(this.search=this.searchString)}},computed:{logos:function(){return this.$store.state.edit.logos||[]},players:function(){return this.$store.state.players},playersAll:function(){return this.$store.state.edit.playersAll},playerEdit:function(){return-1!==this.$store.state.edit.addPlayerSeed},playerEditSeed:function(){return this.$store.state.edit.addPlayerSeed},snackbarMessage:function(){return this.showAlertName+(this.playerEdit?" изменён.":" добавлен в турнир. "+this.snackbarTotalMessage)},snackbarTotalMessage:function(){return"Итого уже "+this.players.length+" игроков."},saveButtonMessage:function(){return this.playerEdit?"Сохранить изменения":"Добавить в турнир"},logoUrl:function(){return this.$store.state.settings.base+this.currentLogo},showDialog:function(){return this.$store.state.edit.addPlayerDialog},searchString:function(){return this.formatSearch(this.search).toLowerCase()}},methods:{searchFilter(t,e,s){const i=t.name.toLowerCase();return 0===i.indexOf(this.searchString)},changeLogo(t){this.currentLogo=t},createPlayer(){this.showFields=!0,this.currentLocation="Новосибирская обл., Новосибирск",this.currentRating="",this.currentLogo="",this.search=this.search.replace(/(?:^|\s)\S/g,(function(t){return t.toUpperCase()})),this.$store.dispatch("createPlayer",{name:this.search,rating:this.currentRating,logo:this.currentLogo,location:this.currentLocation}),this.model=this.search,setTimeout(()=>{this.$refs.autocomplete.blur(),setTimeout(()=>this.$refs.rating.focus(),100)})},deletePlayer(){this.$store.dispatch("deletePlayer",this.playerEditSeed),this.closeDialog()},savePlayer(){if(this.playerEdit){this.$store.dispatch("savePlayer",{name:this.search,rating:this.currentRating,logo:this.currentLogo,location:this.currentLocation});const t=this.playersAll.find(t=>t.name===this.oldPlayerName);t.name=this.search;const e=this.players[this.playerEditSeed];e.name=this.search,e.location=this.currentLocation,e.rating=this.currentRating,e.logo=this.currentLogo,this.closeDialog()}else this.search=this.search.replace(/(?:^|\s)\S/g,(function(t){return t.toUpperCase()})),this.$store.dispatch("addPlayer",{name:this.search,rating:this.currentRating,logo:this.currentLogo,location:this.currentLocation}),this.showAlert=!0,this.showAlertName=this.search,this.showFields=!1,this.model="",setTimeout(()=>this.$refs.autocomplete.focus(),200)},closeDialog(){this.$store.state.edit.addPlayerDialog=!1,this.showLogos=!1,setTimeout(()=>{this.$store.state.edit.addPlayerSeed=-1,this.showFields=!1,this.model=""},200)},formatSearch(t){if(!t)return"";const e={q:"й",w:"ц",e:"у",r:"к",t:"е",y:"н",u:"г",i:"ш",o:"щ",p:"з","[":"х","]":"ъ",a:"ф",s:"ы",d:"в",f:"а",g:"п",h:"р",j:"о",k:"л",l:"д",";":"ж","'":"э",z:"я",x:"ч",c:"с",v:"м",b:"и",n:"т",m:"ь",",":"б",".":"ю","/":"."};return t=t.replace(/[A-z/,.;'[]/g,t=>e[t]),t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()},onKeyDown(t){t=t||window.event,console.log(t.code),"Enter"===t.code?this.showFields?this.savePlayer():this.search&&this.createPlayer():"Escape"===t.code&&(this.showFields&&!this.playerEdit?(this.model=null,this.showFields=!1,this.$refs.autocomplete&&this.$refs.autocomplete.focus()):this.closeDialog())}},mounted(){},beforeDestroy(){}},se=ee,ie=s("c6a6"),oe=s("8336"),re=s("b0af"),ae=s("99d9"),ne=s("62ad"),le=s("a523"),ce=s("169a"),de=s("adda"),he=s("0fd9"),ue=s("2db4"),pe=s("2fa4"),me=s("c73b"),ge=s("8654"),fe=Object(l["a"])(se,Zt,Yt,!1,null,"7b2166ac",null),ye=fe.exports;d()(fe,{VAutocomplete:ie["a"],VBtn:oe["a"],VCard:re["a"],VCardActions:ae["a"],VCardText:ae["b"],VCardTitle:ae["c"],VCol:ne["a"],VContainer:le["a"],VDialog:ce["a"],VImg:de["a"],VRow:he["a"],VSnackbar:ue["a"],VSpacer:pe["a"],VSpeedDial:me["a"],VTextField:ge["a"]});var ve={name:"home",components:{Zoom:qt,AddPlayer:ye},props:{section:{type:String,default:""}},data:()=>({fab:!1}),computed:{addPlayerDialog:function(){return this.$store.state.edit.addPlayerDialog}},methods:{onClick(t){const e=document.querySelector("#thumb--"+t);e&&e.click()}},mounted(){this.$store.commit("initialize",this.section),document.onkeydown=t=>{this.addPlayerDialog||(t=t||window.event,0===t.code.indexOf("Digit")&&t.key<10&&t.key>=0?"group"===this.$store.state.edit.type?this.$store.dispatch("setGroupResult",+t.key):this.$store.dispatch("setMatchResult",+t.key):"KeyW"===t.code?"group"===this.$store.state.edit.type?this.$store.dispatch("setGroupResult","W"):this.$store.dispatch("setMatchResult","W"):"KeyR"===t.code?"group"===this.$store.state.edit.type?this.$store.dispatch("setGroupReady"):this.$store.dispatch("setMatchReady"):"KeyT"===t.code?"group"===this.$store.state.edit.type?this.$store.dispatch("setGroupResult","Tex"):this.$store.dispatch("setMatchResult","Tex"):"Space"===t.code?"group"===this.$store.state.edit.type?this.$store.dispatch("setGroupProgress"):this.$store.dispatch("setMatchProgress"):"Backspace"===t.code?"group"===this.$store.state.edit.type?this.$store.dispatch("deleteGroupResult"):this.$store.dispatch("deleteMatchResult"):"ArrowLeft"===t.code?this.$store.dispatch("moveObjects",{dx:t.shiftKey?-10:-1,dy:0}):"ArrowRight"===t.code?this.$store.dispatch("moveObjects",{dx:t.shiftKey?10:1,dy:0}):"ArrowUp"===t.code?this.$store.dispatch("moveObjects",{dy:t.shiftKey?-10:-1,dx:0}):"ArrowDown"===t.code?this.$store.dispatch("moveObjects",{dy:t.shiftKey?10:1,dx:0}):"Escape"===t.code?this.$store.state.edit.itemsToMove=[]:"KeyC"===t.code&&t.altKey?this.$store.dispatch("clearStorage"):"KeyA"===t.code&&t.altKey?this.$store.dispatch("switchRole"):"KeyA"===t.code?this.$store.state.edit.addPlayerDialog=!0:"KeyZ"===t.code&&t.ctrlKey&&t.altKey?this.$store.dispatch("restoreFromStorage"):"KeyS"===t.code&&t.altKey&&t.ctrlKey?this.$store.dispatch("saveAllResults"):"KeyS"===t.code&&t.altKey?this.$store.dispatch("saveResults"):"KeyF"===t.code&&t.altKey?this.$store.dispatch("saveFiles"):"KeyL"===t.code&&t.altKey&&(console.log(this.$route.name),"home"===this.$route.name&&(localStorage.githubToken="",this.$router.push("l"))))}}},xe=ve,be=(s("21bb"),s("a75b")),we=Object(l["a"])(xe,g,f,!1,null,null,null),$e=we.exports;d()(we,{VContent:be["a"]});var Pe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"about"},[i("section",[i("v-layout",{staticStyle:{"margin-top":"2.5em"},attrs:{"align-center":"","text-center":"",column:"","justify-center":""}},[i("img",{staticStyle:{width:"60%","max-width":"400px"},attrs:{src:s("3486")}}),i("h3",{staticClass:"display-3 ma-2"},[t._v("Azoft Tournaments")]),i("h4",{staticClass:"subheading"},[t._v("(открытые турниры Azoft по настольному теннису)")]),i("h3",{staticClass:"heading mt-6"},[t._v("Турнир Azoft Open 3.0 запущен!")])]),i("v-layout",{attrs:{"align-center":"",column:"","justify-center":""}},[i("v-btn",{staticClass:"mt-6",attrs:{to:"/events/open-3",dark:"",large:"",color:"#f2c008"}},[t._v("Смотреть таблицу")]),i("v-btn",{staticClass:"my-6",attrs:{dark:"",large:"",color:"#2483c5"},on:{click:t.goTg}},[t._v("Подключиться к чату")]),i("v-dialog",{attrs:{"max-width":"390"},model:{value:t.telegram,callback:function(e){t.telegram=e},expression:"telegram"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[t._v("Телегам чат")]),i("v-card-text",[t._v("\n            Установите приложение "),i("a",{attrs:{href:"https://tlgrm.ru/"}},[t._v("Телеграм")]),t._v(" и найдите в нём канал "),i("strong",[t._v("azoft tournaments")]),t._v(". Напишите в него ваше ФИО, сайт вашей компании (прикрутим логотип к вашей фамилии) и TTW рейтинг (если есть). Следите за обновлениями!\n          ")]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.telegram=!1}}},[t._v("Я понял")]),i("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(e){t.telegram=!1}}},[t._v("У меня Линукс")])],1)],1)],1),i("v-flex",{staticClass:"mb-5",attrs:{row:"",wrap:"","text-xs-center":""}},[t._v("\n        Не попали в этот турнир? Не пропустите следующий турнир! ;)\n      ")]),i("h4",{staticClass:"display-1"},[t._v("Прошедшие турниры")]),i("v-layout",{staticClass:"ma-4",attrs:{"align-center":"",column:"","justify-center":""}},[i("v-btn",{staticClass:"ma-4",attrs:{to:"/events/open-2",dark:"",small:"",color:"#f2c008"}},[t._v("Открытый турнир 2.0")]),i("v-btn",{staticClass:"ma-4",attrs:{to:"/events/open-1",dark:"",small:"",color:"#f2c008"}},[t._v("Открытый турнир 1.0")]),i("v-btn",{staticClass:"ma-4",attrs:{to:"/events/open-1",dark:"",small:"",color:"#f2c008"}},[t._v("Турнир пар 1.0")])],1)],1)],1)])},Se=[],_e={name:"about",data:()=>({telegram:!1,blurred:!1}),methods:{goTg(){this.blurred=!1,window.onblur=function(){this.blurred=!0},document.location.href="tg://t.me/joinchat/FMaTykiB1RIoc7PMD5RTkQ",setTimeout(this.openTgPopup,3500)},openTgPopup(){this.blurred||(this.telegram=!0)}}},Ce=_e,ke=s("0e8f"),Te=s("a722"),Oe=Object(l["a"])(Ce,Pe,Se,!1,null,null,null),We=Oe.exports;d()(Oe,{VBtn:oe["a"],VCard:re["a"],VCardActions:ae["a"],VCardText:ae["b"],VCardTitle:ae["c"],VDialog:ce["a"],VFlex:ke["a"],VLayout:Te["a"],VSpacer:pe["a"]}),i["a"].use(m["a"]);const Ae=new m["a"]({routes:[{path:"/l",beforeEnter(){-1===location.href.indexOf("localhost")?location.href="https://github.com/login/oauth/authorize?scope=repo&client_id=bf870e3b39e7567fedf6&redirect_uri=http://academtour.github.io/#/settings":location.href="https://github.com/login/oauth/authorize?scope=repo&client_id=574751fedca734e7f208&redirect_uri=http://localhost:8080/#/settings"}},{path:"/",name:"about",component:We},{path:"/now",redirect:"/events/open-3"},{path:"/events/:section/:media?/:score?",name:"home",component:$e,props:!0,meta:{title:""}},{path:"/settings",name:"settings",meta:{},beforeEnter(t,e,s){if(-1!==location.href.indexOf("?code=")){const t=location.href.indexOf("?code="),e=location.href.indexOf("/",t),s=location.href.substring(t+6,e-1),i=-1!==location.href.indexOf("localhost")?"574751fedca734e7f208":"bf870e3b39e7567fedf6",o=-1!==location.href.indexOf("localhost")?"7b87fc1f1b8b5db41cdf9f9d2849184944bdaae6":"cc1ab401631b982dc63088f131f688e7365b2067";window.history.replaceState({},document.title,"/#/settings"),te.a.post("https://cors-anywhere.herokuapp.com/https://github.com/login/oauth/access_token?client_id="+i+"&client_secret="+o+"&code="+s,null,{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(t=>{localStorage.githubToken=t.data.access_token}).catch(t=>{console.error(t)})}s()},component:null}]});Ae.beforeEach((t,e,s)=>{t.meta.title&&(document.title=t.meta.title),"/admin"===t.path?(localStorage["role"]="admin",s({path:"/"})):e.params["section"]&&t.params["section"]!==e.params["section"]?(s(),location.reload()):0===t.path.indexOf("/events")?s():"/"===t.path?s():s("/")});var Ve=Ae,je=s("2f62");const Me={},Re=s("ca09"),Le=s("2cb7");function Ne(){s("bbc1")(Me,"chumakov-azoft/azoft-tk",localStorage["githubToken"]),s("738d")(Me,Le),s("fb3b")(Me),s("d4c1")(Me),s("95d0")(Me)}Le.init((function(t){if(t)throw t})),Me.saveState=function(t,e,s){Me.readRef||Ne(),Me.readRef("refs/heads/master",(i,o)=>{i&&console.warn(i),Me.loadAs("commit",o,(i,r)=>{i&&console.warn(i),Me.loadAs("tree",r.tree,(i,a)=>{i&&console.warn(i);const n=e.map((i,o)=>{return{path:t+e[o],mode:Re.file,content:s[o]}});n.base=r.tree,console.log(n),Me.createTree(n,(t,e)=>{t&&console.warn(t),Me.saveAs("commit",{tree:e,author:{name:"chumakov-azoft",email:"chumakov@azoft.com"},parent:o,message:"update"},(t,e)=>{t&&console.warn(t),Me.updateRef("refs/heads/master",e,(t,e)=>{t&&console.warn(t),console.log("done!",e)},!0)})})})})})},Me.saveFile=function(t,e){var s=document.createElement("a"),i=new Blob([e],{type:"text/plain"});s.href=URL.createObjectURL(i),s.download=t,s.click()};var Ee=Me;i["a"].use(je["a"]);var De=new je["a"].Store({state:{version:1,zoom:null,zoomer:null,settings:{base:"",type:null,stages:["finals"],finalsNum:1,finalsSizes:[1e4],status:"edit",ratingSum:"",ratingSumC:"",ratingSystem:"azoft",role:localStorage["role"]||"",defaultCurveColor:"#cccccc",defaultChevronColor:"#dddddd",defaultZoomX:20,defaultZoomY:20,defaultZoomScale:.9,showLogo:!0,showPlayers:!1,showPlaces:!1,showFinalsBegin:!1,showNotReadyNames:!1,nameWidth:210,shortType:"",pairWidth:300,matchWidth:220,matchHeight:60,groupsRowWidth:[[0]],groupsRowHeight:[[0]],playersPosition:[-600,0],stagesPosition:[[0,0],[0,0]],placesPosition:[[0,0],[0,0]],playersDeltasWidth:0,playersWidth:350,playersHeight:0,maxScore:3},video:{audioTime:[],audio:[],chevrons:[],ratings:[],logos:[],names:[],scores:[],subtitle:"",scoreTime:[0],score:["0 0 0 0 0"]},edit:{itemToSwitch:null,itemsToMove:[],current:[0],type:"",over:[],next:!1,centeredMatch:0,readyMatches:[],playersAll:[],addPlayerDialog:!1,addPlayerSeed:-1,logos:[]},save:{players:!1,pairs:!1,scores:!0,seeds:!0},debug:{localhost:!1,showEmpty:!1},colors:["#ff0500","#0074d9","#01ff70","#fff100","#c200ff","#00f9ff","#ff8c00","#ff00bc","#003f83","#B50002","#019e47","#a7a400","#7b009d","#00969b","#773b00","#990063","#ffcb95","#e8dd84","#afff92","#85e8bd","#7DA3FF","#C69CFF","#FFA9E0","#e88e81","#466a83","#95625d","#6a9e7f","#a4a778","#86639d","#628f9b","#a17e5e","#9f5f7c","#0074d9","#01ff70","#001f3f","#39cccc","#3d9970","#2ecc40","#ff4136","#85144b","#ff851b","#b10dc9","#ffdc00","#f012be","#aaaaaa","#dddddd","#7fdbff","#0074d9","#01ff70","#001f3f","#39cccc","#3d9970","#2ecc40","#ff4136","#85144b","#ff851b","#b10dc9","#ffdc00","#f012be","#aaaaaa","#dddddd","#7fdbff","#0074d9","#01ff70","#001f3f","#39cccc","#3d9970","#2ecc40","#ff4136","#85144b","#ff851b","#b10dc9","#ffdc00","#f012be","#aaaaaa","#dddddd"],info:{},players:[],matches:null,groups:null,places:[],scores:[],seeds:[],medias:[],titles:[],texts:[],mesh:[],rule:[],deltas:[],curves:[],curves2:[[],[],[]]},getters:{getDeltaRating:t=>(e,s)=>{return Vs(t,s,t.deltas[e][s],e,-1,-1)},getRatingRound:t=>e=>{return Is(t,e)}},mutations:{initialize(t,e){if(e){-1!==window.location.hostname.indexOf("localhost")&&(t.settings.role="admin",t.debug.localhost=!0);const s=t.debug.localhost?"":"https://azoft.ml/";t.settings.base="events/"+e+"/";const i=Math.random();"admin"===t.settings.role&&te.a.get(s+"/playersLocal.json?v="+i).then(e=>{t.edit.playersAll=e.data.players.sort((t,e)=>{return e.rating-t.rating})}),Promise.all([te.a.get(s+t.settings.base+"info.json?v="+i),te.a.get(s+t.settings.base+"players.json?v="+i),te.a.get(s+t.settings.base+"mesh.json?v="+i),te.a.get(s+t.settings.base+"seeds.json?v="+i),te.a.get(s+t.settings.base+"scores.json?v="+i),te.a.get(s+t.settings.base+"medias.json?v="+i)]).then(e=>{t.info=e[0].data,document.title=t.info.name,Ks(t,t.info.zoom),t.settings.type=t.info.type,t.settings.stages=t.info.stages,t.settings.ratingSum=t.info.ratingSum,t.settings.ratingSumC=t.info.ratingSumC,t.settings.status=t.info.status,t.settings.shortType=t.info.shortType,t.info.nameWidth&&(t.settings.nameWidth=t.info.nameWidth),t.info.matchWidth&&(t.settings.matchWidth=t.info.matchWidth),t.settings.stretchNames=t.info.stretchNames,t.settings.showLogo=t.info.showLogo,t.settings.showPlayers=t.info.showPlayers,t.settings.showFinalsBegin=t.info.showFinalsBegin,t.settings.showNotReadyNames=t.info.showNotReadyNames,t.settings.showPlaces=t.info.showPlaces,t.edit.logos=t.info.logos||[],t.players=e[1].data.players,t.mesh=e[2].data.mesh,t.settings.rule=e[2].data.rule,t.settings.fin=e[2].data.fin,e[2].data.placesPosition&&e[2].data.placesPosition.map((e,s)=>t.settings.placesPosition[s]=e),e[2].data.stagesPosition&&e[2].data.stagesPosition.map((e,s)=>t.settings.stagesPosition[s]=e),t.seeds=e[3].data.seeds,t.scores=e[4].data.scores,t.medias=e[5].data.medias,t.headers=e[5].data.headers,t.titles=e[5].data.titles,t.texts=e[5].data.texts;try{Ke(t),"pairs"===t.settings.type&&Ie(t,e[1].data.pairs),Fe(t)}catch(s){console.log(s)}}).catch(t=>{console.error(t),Ve.push({path:"/now"})})}},over(t,{order:e,$event:s}){Ue(t,{order:e,$event:s})},out(t,{order:e,$event:s}){Je(t,{order:e,$event:s})},overPlayer(t,{seed:e,$event:s}){qe(t,{seed:e,$event:s})},outPlayer(t,{seed:e,$event:s}){Ze(t,{seed:e,$event:s})},overGroupCell(t,{order:e,$event:s}){ss(t,{order:e,$event:s})},outGroupCell(t,{order:e,$event:s}){is(t,{order:e,$event:s})},overMatchCell(t,{order:e,$event:s}){ts(t,{order:e,$event:s})},outMatchCell(t,{order:e,$event:s}){es(t,{order:e,$event:s})},click(t,{order:e,$event:s}){const i=e[0],o=e[1],r=e[2];e[3];s.ctrlKey||s.altKey?(console.log(t.edit.itemToSwitch),t.edit.itemToSwitch?(Je(t,{}),ps(t,i,t.edit.itemToSwitch,e,!s.altKey),t.edit.itemToSwitch=null,Ue(t,{order:e})):t.edit.itemToSwitch=[...e]):s.shiftKey?t.edit.itemsToMove.push(t.matches[i][o][r]):t.edit.itemsToMove=[t.matches[i][o][r]]}},actions:{createPlayer({state:t,commit:e},s){"edit"===t.settings.status&&i["a"].set(t.edit.playersAll,t.edit.playersAll.length,{...s})},deletePlayer({state:t,commit:e},s){if("edit"===t.settings.status){const e=t.curves2[0][s];e&&t.curves2[0].splice(s,1),t.players.splice(s,1),setTimeout(()=>$s(t,0))}},addPlayer({state:t,commit:e},s){"edit"===t.settings.status&&(i["a"].set(t.players,t.players.length,{...s}),Ke(t),t.players.sort((t,e)=>{return e.currentRating-t.currentRating}),t.settings.showPlayers&&setTimeout(()=>$s(t,0)))},addVideoPoint({state:t,commit:e},{k:s,position:i}){console.log("add point",s,i);const o=t.video.score[t.video.score.length-1].split(" "),r=t.video.scoreTime[t.video.scoreTime.length-1];o[s]++,s<2&&(o[2]=0,o[3]=0),i=Math.floor(10*i)/10,r>=i?(t.video.score[t.video.score.length-1]=o.join(" "),t.video.scoreTime[t.video.scoreTime.length-1]=i):(t.video.score[t.video.score.length]=o.join(" "),t.video.scoreTime[t.video.scoreTime.length]=i),console.log('  "scoreTime": ['+t.video.scoreTime.join(",")+'],\n  "score": ["'+t.video.score.join('","')+'"]\n')},shrinkVideoPoint({state:t,commit:e},{position:s}){console.log("shrink to",s);let i=t.video.scoreTime[t.video.scoreTime.length-1];while(i>=s&&t.video.scoreTime.length>1)t.video.scoreTime.pop(),t.video.score.pop(),i=t.video.scoreTime[t.video.scoreTime.length-1],console.log(t.video.scoreTime.length,i,s);console.log('  "scoreTime": ['+t.video.scoreTime.join(",")+'],\n  "score": ["'+t.video.score.join('","')+'"]\n')},showVideoPoint({state:t,commit:e},{position:s}){console.log("scoreTime: ",t.video.scoreTime),console.log("score: ",t.video.score)},loadVideoBoard({state:t,commit:e},s){const i=t.debug.localhost?"":"https://azoft.ml/";return te.a.get(i+t.settings.base+"/board/"+s+".json").then(({data:e})=>{t.video.audioTime=e.audioTime?e.audioTime.map(t=>"number"===typeof t?t:t.split(":").reduce((t,e)=>60*t+ +e)):[0],t.video.audio=Array.isArray(e.audio)?e.audio:[e.audio],t.video.chevrons=[e.chevron1,e.chevron2],t.video.ratings=[e.rating1,e.rating2],t.video.logos=[e.logo1?t.settings.base+e.logo1:"",e.logo2?t.settings.base+e.logo2:""],t.video.names=[e.name1,e.name2],t.video.subtitle=e.subtitle,t.video.scoreTime=e.scoreTime,t.video.score=e.score})},setGroupReady({state:t,commit:e}){os(t,t.edit.current)},setGroupProgress({state:t,commit:e}){rs(t,t.edit.current)},deleteGroupResult({state:t,commit:e}){ns(t,t.edit.current)},setGroupResult({state:t,commit:e},s){t.edit.next?(as(t,t.edit.current,s,!0),t.edit.next=!1,s>=t.settings.maxScore&&ls(t,t.edit.current)):(as(t,t.edit.current,s),t.edit.next=!0,"Tex"===s?(ls(t,t.edit.current,!0),as(t,t.edit.current,"Tex",!0)):s>=t.settings.maxScore?(ls(t,t.edit.current),as(t,t.edit.current,0,!0)):(ls(t,t.edit.current,!0),as(t,t.edit.current,t.settings.maxScore,!0)))},setMatchReady({state:t,commit:e}){const s=t.edit.current[0],o=t.edit.current[1],r=t.edit.current[2],a=t.edit.current[3],n=t.matches[s][o][r];if(-1===n.seeds[1])return;let l=t.scores[s][o][r][2];console.log(l),"ready1"!==l||a?"ready2"===l&&a?l="":"ready1"===l&&a?l="ready":"ready2"!==l||a?"ready"!==l||a?"ready"===l&&a?l="ready1":""===l&&a?l="ready2":""!==l||a||(l="ready1"):l="ready2":l="ready":l="",t.scores[s][o][r]&&i["a"].set(t.scores[s][o][r],2,l)},setMatchResult({state:t,commit:e},s){const i=t.edit.current,o=i[0],r=i[1],a=i[2],n=i[3],l=t.matches[o][r][a],c=t.scores[o][r][a][2];if(-1===l.seeds[1]||"ready1"===c||"ready2"===c)return;const[d,h]=l.seeds;Je(t,{}),t.edit.next?(Ye(t,i,s,!0),Ws(t,d,h,i),t.edit.next=!1,s>=t.settings.maxScore&&Qe(t,i)):(Ye(t,i,s),t.edit.next=!0,"Tex"===s?(Qe(t,i,!0),Ye(t,i,"Tex",!0),Ws(t,d,h,i)):"W"===s?(Qe(t,i),Ye(t,i,"L",!0),Ws(t,d,h,i)):s>=t.settings.maxScore?(Qe(t,i),Ye(t,i,0,!0),Ws(t,d,h,i)):(Qe(t,i,!0),Ye(t,i,t.settings.maxScore,!0),Ws(t,d,h,i))),setTimeout(()=>Ue(t,{order:[o,r,a,n]}))},moveObjects({state:t,commit:e},{dx:s,dy:o}){console.log(t.edit.itemsToMove),t.edit.itemsToMove.forEach(e=>{if(e.seeds){const[i,r,a]=e.order,[n,l]=e.seeds,c=t.scores[i][r][a][2];e.position=[t.mesh[i][r][2*a]=e.position[0]+s,t.mesh[i][r][2*a+1]=e.position[1]+o];let d="win1"===c||"win2"===c||"ready"===c;e.curves&&(xs(e.curves[0],t,n,e.order[0],e.order[1],e.order[2],0,{color:d||"ready1"===c?t.colors[n]:null,shiftX:e.curvesShiftX?e.curvesShiftX[0]:0}),xs(e.curves[1],t,l,e.order[0],e.order[1],e.order[2],1,{color:d||"ready2"===c?t.colors[l]:null,shiftX:e.curvesShiftX?e.curvesShiftX[1]:0}))}else 3===e.length?(console.log(e,t.settings.placesPosition),e[1]+=s,e[2]+=o,console.log(t.settings.placesPosition[e[0]],e),i["a"].set(t.settings.placesPosition,e[0],[e[1],e[2]])):(console.log(e),e[1]+=s,e[2]+=o,i["a"].set(t.medias,0,t.medias[0]))});let r="";t.mesh.forEach(t=>{r+="[",t.forEach(t=>{r+="["+t.join(", ")+"],\n"}),r=r.slice(0,-2)+"],\n"})},saveResults({state:t,commit:e}){Ee.saveState(t.settings.base,["seeds.json","scores.json"],[JSON.stringify({seeds:t.seeds}).replace("[[","[\n[").replace(/\],\[/gm,"],\n["),JSON.stringify({scores:t.scores}).replace("[[[","[\n[[").replace(/\]\],\[/gm,"]],\n[")])},saveAllResults({state:t,commit:e}){"pairs"===t.settings.type?Ee.saveState(t.settings.base,["info.json","players.json","medias.json","mesh.json","seeds.json","scores.json"],[JSON.stringify({...t.info}).replace("[[[","[\n[[").replace(/\]\],\[/gm,"]],\n["),JSON.stringify({players:t.players0.map(({short:t,short2:e,currentRating:s,logoUrl:i,...o})=>o),pairs:t.players.map(({location:t,location2:e,currentRating:s,...i})=>i)}).replace("{","{\n").replace("[","[\n").replace(/",/gm,'",\n').replace(/"pairs":/gm,'\n"pairs":\n').replace(/}/gm,"\n}").replace(/{/gm,"{\n"),JSON.stringify({medias:t.medias}).replace("[[[","[\n[[").replace(/\]\],\[/gm,"]],\n["),JSON.stringify({mesh:t.mesh}).replace("[[[","[\n[[").replace(/\]\],\[/gm,"]],\n["),JSON.stringify({seeds:t.seeds}).replace("[[[","[\n[[").replace(/\]\],\[/gm,"]],\n["),JSON.stringify({scores:t.scores}).replace("[[[","[\n[[").replace(/\]\],\[/gm,"]],\n[")]):Ee.saveState(t.settings.base,["info.json","players.json","medias.json","mesh.json","seeds.json","scores.json"],[JSON.stringify({...t.info}).replace("[[[","[\n[[").replace(/\]\],\[/gm,"]],\n["),JSON.stringify({players:t.players.map(({short:t,currentRating:e,...s})=>s)}).replace("{","{\n").replace("[","[\n").replace(/",/gm,'",\n').replace(/{/gm,"{\n"),JSON.stringify({medias:t.medias}).replace("[[[","[\n[[").replace(/\]\],\[/gm,"]],\n["),JSON.stringify({mesh:t.mesh}).replace("[[[","[\n[[").replace(/\]\],\[/gm,"]],\n["),JSON.stringify({seeds:t.seeds}).replace("[[[","[\n[[").replace(/\]\],\[/gm,"]],\n["),JSON.stringify({scores:t.scores}).replace("[[[","[\n[[").replace(/\]\],\[/gm,"]],\n[")])},saveFiles({state:t,commit:e}){"pairs"===t.settings.type?(t.save.players&&Ee.saveFile("players.json",JSON.stringify({players:t.players0.map(({short:t,short2:e,currentRating:s,logoUrl:i,place:o,...r})=>r),pairs:t.save.pairs?t.players.map(({location:t,location2:e,currentRating:s,logoUrl:i,place:o,...r})=>r):null}).replace("{","{\n").replace("[","[\n").replace(/",/gm,'",\n').replace(/"pairs"/gm,'\n"pairs"').replace(/}/gm,"\n}").replace(/{/gm,"{\n")),t.save.seeds,t.save.scores&&Ee.saveFile("scores.json",JSON.stringify({scores:t.scores}).replace("[[[","[\n[[").replace(/\]\],\[/gm,"]],\n["))):(t.save.players&&Ee.saveFile("players.json",JSON.stringify({players:t.players.map(({short:t,short2:e,currentRating:s,curve:i,logoUrl:o,place:r,...a})=>a)}).replace("{","{\n").replace("[","[\n").replace(/",/gm,'",\n').replace(/"pairs"/gm,'\n"pairs"').replace(/}/gm,"\n}").replace(/{/gm,"{\n")),t.save.seeds&&Ee.saveFile("seeds.json",JSON.stringify({seeds:t.seeds}).replace("[[","[\n[").replace(/\],\[/gm,"],\n[")),t.save.scores&&Ee.saveFile("scores.json",JSON.stringify({scores:t.scores}).replace("[[[","[\n[[").replace(/\]\],\[/gm,"]],\n[")))},switchRole({state:t,commit:e}){t.settings.role="admin"===t.settings.role?"":"admin"},restoreFromStorage({state:t,commit:e}){t.seeds=JSON.parse(localStorage["seeds"]),t.scores=JSON.parse(localStorage["scores"]),Fe(t)},savePlayers({state:t,commit:e}){},centerMatch({state:t,commit:e}){if(t.edit.readyMatches.length){const e=t.zoomer;t.edit.centeredMatch=(t.edit.centeredMatch+1)%t.edit.readyMatches.length;const a=t.edit.readyMatches[t.edit.centeredMatch];var s=e.getSizes(),i=(e.getPan(),document.querySelector("#match-"+a.order[0]+"-"+a.order[1]+"-"+a.order[2]).getBoundingClientRect());console.log(i);e.getZoom();var o=i.x+i.width/2,r=i.y+i.height/2;s.width,s.height}}}});function Ie(t,e){if(t.players0=[...t.players],e)return void(t.players=e);t.players0.sort((t,e)=>{return e.currentRating-t.currentRating}),t.players=[];const s=2*Math.floor(t.players0.length/2);for(let i=0;i<s/2;i++){let e=t.players0[i],o=t.players0[s-i-1],r=e.currentRating,a=o.currentRating,n="average"===t.settings.ratingSum?.5:(r-a)/(r+a)/t.settings.ratingSumC+.5,l="sum"===t.settings.ratingSum?r+a:Math.round(r*(1-n)+a*n);t.players[i]={name:e.name,name2:o.name,logo:e.logo,logo2:o.logo,location:e.location,location2:o.location,short:e.short+" и "+o.short,currentRating:Math.round(l),rating:Math.round(l)}}t.players.sort((t,e)=>{return e.currentRating-t.currentRating})}function Ke(t,e){const s=new Set;if(t.players.map(e=>{e.currentRating=+e.rating;const i=e.name.split(" ");e.short=i[0],i.length>1&&(e.short2=i[0]+" "+i[1],"fullName"===t.settings.shortType?e.short=i[1]+" "+i[0].substr(0,1)+".":"onlyName"===t.settings.shortType?e.short=i[1]:"full2"===t.settings.shortType?e.short+=" "+i[1]:e.short+=" "+i[1].substr(0,1)+".",e.logo&&(e.logoUrl=t.settings.base+e.logo)),s[e.short]&&i.length>2&&(e.short+=" "+i[2].substr(0,1)+".",s[e.short]&&(e.short+=" 2")),s[e.short]=i}),e)if(!0===e)t.players.sort((t,e)=>{return e.rating-t.rating});else{e.forEach((e,s)=>{-1===e&&hs(t,s)}),t.seeds=t.seeds.map(t=>t.map(t=>t<0?t:e[t])),console.log("------",t.seeds);let s="";t.seeds.forEach(t=>{s+="["+t.join(", ")+"],\n"}),console.log(s.slice(0,-2)+"\n")}}function Fe(t){t.curves2=[new Array(t.players.length),new Array(t.players.length),new Array(t.players.length)],t.curves=[],t.deltas=[],t.matches=[],t.groups=[],t.readyMatches=[],t.info.stages?t.info.stages.forEach((e,s)=>{("groups"===e||Array.isArray(e)&&"groups"===e[0])&&(i["a"].set(t.groups,s,[]),i["a"].set(t.places,s,[]),i["a"].set(t.curves,s,[]),i["a"].set(t.deltas,s,[]),ze(t,s,t.groups[s],t.mesh[s],t.seeds[s],t.scores[s],t.places[s],t.curves[s],t.deltas[s],t.players)),("finals"===e||Array.isArray(e)&&"finals"===e[0])&&(s===t.info.stages.length-1&&Array.isArray(e)&&(t.settings.finalsNum=e.length,t.settings.finalsSizes=e.slice(1)),i["a"].set(t.matches,s,[]),i["a"].set(t.places,s,[]),i["a"].set(t.curves,s,[]),i["a"].set(t.deltas,s,[]),He(t,s,t.matches[s],t.mesh[s],t.seeds[s],t.scores[s],t.places[s],t.curves[s],t.deltas[s],t.players))}):He(t,0,t.mesh,t.seeds,t.scores),t.titles||(t.titles=[]);for(let s of t.headers)try{const e=t.matches[s[1]][s[2]][s[3]].position,i=t.settings.stagesPosition[s[1]];s.splice(1,3,e[0]+i[0],e[1]+i[1]-5),t.titles.push(s)}catch(e){console.log("wrong title")}}function ze(t,e,s,o,r,a,n,l,c,d){for(let h=0;h<o.length;h++){if(!r[h])continue;const d=r[h],u=d.length;let p=a[h];p||(i["a"].set(a,h,[]),p=a[h]),p.length=u;for(let t=0;t<u;t++){p[t]||i["a"].set(p,t,[]);for(let e=0;e<u;e++)e===t?p[t][e]&&i["a"].set(p[t],e,null):p[t][e]||i["a"].set(p[t],e,[0,0,"",0,0])}s.push({index:h,stage:e,order:[e,h],seeds:r[h],position:[o[h][0],o[h][1],o[h][2],o[h][3]]});const m=r[h].length;n.push(Array(m)),Ge(t,s,r[h],a[h],n[h],l,c,e,h)}0===e&&t.settings.showPlayers&&(t.settings.playersHeight=30*t.players.length+57,t.settings.playersPosition[1]=t.settings.groupsRowHeight[e][0]/2-t.settings.playersHeight/2,setTimeout(()=>$s(t,e)))}function Ge(t,e,s,o,r,a,n,l,c){let d=0,h=0;const u=[],p=s.length;for(let m=0;m<p;m++){const e=s[m];i["a"].set(n,e,[]),u[m]={min:0,max:0,index:m,seed:e};for(let i=0;i<p;i++){const r=o[m][i];if(!r)continue;const a=s[i],h=Ms(t.players[e].rating,t.players[a].rating,[r[0],r[1]]);if("win1"===r[2]){const s=Is(t,h[0]),o=s>0?"+"+s:String(s);n[e].push({x:0,win:!0,value:s,text:o,width:5*o.length+8,time:r[4],seed2:a,order:[l,c,m,i]}),u[m].min+=2,u[m].max+=2,d++}else if("win2"===r[2]){const s=Is(t,h[1]),o=s>0?"+"+s:String(s);n[e].push({x:0,win:!1,value:s,text:o,width:5*o.length+8,time:r[4],seed2:a,order:[l,c,m,i]}),u[m].min+="Tex"===r[0]?0:1,u[m].max+="Tex"===r[0]?0:1,d++}else u[m].min+=1,u[m].max+=2}n[e].sort((t,e)=>{return t.time-e.time});let r=0,a=Vs(t,e,[],l,-1,-1);for(let t of n[e])t.isGroup=!0,t.x=r,a+=t.value,t.rating=a,r+=t.width+4;h=Math.max(h,r)}if(t.settings.playersDeltasWidth<h&&(t.settings.playersDeltasWidth=h),e[c].position[3]=Math.max(e[c].position[3],30*p+37+40),e[c].position[2]=Math.max(e[c].position[2],t.settings.nameWidth+100+30*p+90+h),t.settings.groupsRowWidth[l][0]=Math.max(e[c].position[2],t.settings.groupsRowWidth[l][0]),c>0&&(e[c].position[1]=e[c-1].position[1]+e[c-1].position[3],t.settings.groupsRowHeight[l][0]=e[c].position[1]+e[c].position[3]),d<p)u.forEach((e,s)=>{i["a"].set(r,e.index,[1,p]),0===l&&t.seeds[l+1].length>1&&setTimeout(()=>{})});else if(d!==p*p-p){for(let t=0;t<u.length;t++){let e=u.length,s=1,i=u[t].min,o=u[t].max;for(let r=0;r<u.length;r++)t!==r&&(o<u[r].min&&s++,i>u[r].max&&e--);u[t].minPlace=e,u[t].maxPlace=s}u.forEach((e,s)=>{i["a"].set(r,e.index,e.minPlace===e.maxPlace?[e.minPlace]:[e.maxPlace,e.minPlace]),e.minPlace===e.maxPlace&&setTimeout(()=>gs(t,l,c,e.maxPlace,e.seed))}),u.sort((t,e)=>t.maxPlace-e.maxPlace);for(let t=0;t<u.length-1;t++){let e=Xe(o,u,t,t+1);if(e>0){for(let s=t;s<t+e+1;s++)i["a"].set(r,u[s].index,u[s].split?[u[s].split]:[s+1]);t+=e}}}else{u.sort((t,e)=>e.max-t.max);for(let t=0;t<u.length-1;t++)t+=Xe(o,u,t,t+1);u.forEach((e,s)=>{i["a"].set(r,e.index,e.split?[e.split]:[s+1]),setTimeout(()=>gs(t,l,c,s+1,e.seed))})}}function Be(t){const e="Tex"===t[0]?0:t[0],s="Tex"===t[1]?0:t[1];return e-s}function Xe(t,e,s,i){if(s+1>=e.length||e[s].min!==e[s].max||e[s+1].min!==e[s+1].max||e[s].max!==e[s+1].max)return 0;let o=2;while(s+o<e.length&&e[s].max===e[s+o].max&&e[s+o].min===e[s+o].max)o++;if(s>0&&e[s-1].max===e[s].max||s+o<e.length&&e[s+o].max===e[s].max)return 0;if(console.log("resolving "+(s+1)+"-"+(s+o)+", score: "+e[s].max),2===o){let i=Be(t[e[s].index][e[s+1].index]);e[s].max+=i/1e3,e.splice(s,0,...e.splice(s,o).sort((t,e)=>e.max-t.max)),console.log("personal "+(e[s].index+1)+" "+(i>0?"+"+i:i)+"("+(e[s+1].index+1)+")")}else{for(let a=s;a<s+o;a++){let i=0,r=e[a].index+1+":";for(let n=s;n<s+o;n++){if(a===n)continue;let s=Be(t[e[a].index][e[n].index]);i+=s,r+=" "+(s>0?"+"+s:s)+"("+(e[n].index+1)+")"}e[a].max+=i/100,console.log(r+" = "+(i>0?"+"+i:i))}let i=e.splice(s,o).sort((t,e)=>e.max-t.max);e.splice(s,0,...i);let r=e[s].max;for(let a=s+1;a<s+o;a++)if(e[a].max===r)if(a+1===s+o||e[a+1].max!==r){let s=Be(t[e[a-1].index][e[a].index]);e[a-1].max+=s/1e3,e.splice(a-1,0,...e.splice(a-1,2).sort((t,e)=>e.max-t.max)),console.log("personal "+(e[a-1].index+1)+" "+(s>0?"+"+s:s)+"("+(e[a].index+1)+")")}else{let t=a;const i=[];i.push(e[a-1]);while(a<s+o&&e[a].max===r)i.push(e[a]),a++;t+=".."+a,i.forEach((e,s)=>e.split=t)}else r=e[a].max}return o-1}function He(t,e,s,o,r,a,n,l,c,d){for(let h=0;h<r.length;h++){if(t.settings.showFinalsBegin&&h>0)continue;let n=[],c=r[h];a[h]||(a[h]=[]);const d=c.length/2;for(let s=0;s<d;s++){const r=[e,h,s];let u=c[2*s],p=c[2*s+1];if(u<0||p<0){0===h&&u>=0?n.push({order:r,seeds:[u,-1],position:[o[h][2*s],o[h][2*s+1]]}):0===h&&p>=0?n.push({order:r,seeds:[p,-1],position:[o[h][2*s],o[h][2*s+1]]}):n.push(null);continue}(!a[h][s]||a[h][s].length<3)&&(a[h][s]=[0,0,t.debug.showEmpty?"ready":"",0,0]);let m=a[h][s][2],g="win1"===m||"win2"===m||"ready"===m,f="win1"===m||"win2"===m;f?Ws(t,u,p,r):t.debug.showEmpty&&i["a"].set(a[h][s],2,"ready");let y=null,v=null;if(h>0){y=[ms(h,s,d),ms(h,s,d)-.2];let i=[g||"ready1"===m?t.colors[u]:null,g||"ready2"===m?t.colors[p]:null];v=[bs(t,u,e,h,s,0,{color:i[0],shiftX:y[0]}),bs(t,p,e,h,s,1,{color:i[1],shiftX:y[1]})],v[0]&&l.push(v[0]),v[1]&&l.push(v[1])}const x={order:r,seeds:[u,p],curves:v,curvesShiftX:y,position:[o[h][2*s],o[h][2*s+1]]};n.push(x),f||"ready"===m&&t.edit.readyMatches.push(x)}s.push(n)}n.length=r.length,t.settings.showFinalsBegin||ws(t,e)}function Ue(t,{order:e,$event:s}){const i=e[0],o=e[1],r=e[2],a=e[3];console.log("i="+o,"j="+r,"seeds:",t.matches[i][o][r].seeds.join(","),"status:",t.scores[i][o][r][2],"position:",t.matches[i][o][r].position.join(","),"title position:",t.matches[i][o][r].position[0]+t.settings.stagesPosition[i][0]+5+", "+(t.matches[i][o][r].position[1]+t.settings.stagesPosition[i][1]-5),"colors:",t.colors[t.matches[i][o][r].seeds[0]],t.colors[t.matches[i][o][r].seeds[1]]),!s||o===t.edit.current[0]&&r===t.edit.current[1]&&a===t.edit.current[2]||(t.edit.current=e,t.edit.type="match",t.edit.over=[t.matches[i][o][r].seeds[a]]),document.querySelectorAll("#player"+t.matches[i][o][r].seeds[a]+":not(.empty)").forEach(t=>t.classList.add("over"))}function Je(t,{order:e,$event:s}){s&&t.edit.current&&(t.edit.next=!1),document.querySelectorAll("#player"+t.edit.over[0]).forEach(t=>t.classList.remove("over"))}function qe(t,{seed:e,$event:s}){s&&e!==t.edit.current[0]&&(t.edit.current=[e],t.edit.type="player",t.edit.over=[e]),document.querySelectorAll("#player"+e+":not(.empty)").forEach(t=>t.classList.add("over"))}function Ze(t,{seed:e,$event:s}){s&&t.edit.current&&(t.edit.next=!1),document.querySelectorAll("#player"+e).forEach(t=>t.classList.remove("over"))}function Ye(t,e,s,o=!1){const r=e[0],a=e[1],n=e[2],l=o?1-e[3]:e[3];i["a"].set(t.scores[r][a][n],l,s),localStorage["scores"]=JSON.stringify(t.scores),localStorage["seeds"]=JSON.stringify(t.seeds)}function Qe(t,e,s=!1){const o=e[0],r=e[1],a=e[2],n=s?1-e[3]:e[3],l=t.matches[o][r][a],c=t.scores[o][r][a][2],d=n?"win2":"win1";i["a"].set(t.scores[o][r][a],2,d);const h=+new Date;if(i["a"].set(t.scores[o][r][a],4,h),!t.scores[o][r][a][3]){const e=3e5;i["a"].set(t.scores[o][r][a],3,h-e)}let[u,p]=l.seeds;if(r+1<t.seeds[o].length&&("win2"===c&&"win1"===d||"win2"!==c&&"win2"===d))for(let i=r+1;i<t.seeds[o].length;i++){let e=t.seeds[o][i].indexOf(u),s=t.seeds[o][i].indexOf(p);cs(t,o,i,e,s,u,p)}ys(t,o,r,a,u,p),vs(t,o,r,a,u,p,!0)}function ts(t,{order:e,$event:s}){e[0],e[1],e[2],e[3];console.log(e)}function es(t,{order:e,$event:s}){e[0],e[1],e[2],e[3]}function ss(t,{order:e,$event:s}){const i=e[0],o=e[1],r=e[2],a=e[3];t.seeds[i][o][r],t.seeds[i][o][a];!s||i===t.edit.current[0]&&o===t.edit.current[1]&&r===t.edit.current[2]&&a===t.edit.current[3]||(t.edit.current=e,t.edit.type="group",t.edit.over=[...e]),document.querySelectorAll("#group-"+i+"-"+o+"-"+r+"-"+a+":not(.empty)").forEach(t=>t.classList.add("group-cell-over")),document.querySelectorAll("#group-"+i+"-"+o+"-"+a+"-"+r+":not(.empty)").forEach(t=>t.classList.add("group-cell-over"))}function is(t,{order:e,$event:s}){if(s&&t.edit.current&&(t.edit.next=!1),t.edit.over&&4===t.edit.over.length){const e=t.edit.over[0],s=t.edit.over[1],i=t.edit.over[2],o=t.edit.over[3],r=t.seeds[e][s][i],a=t.seeds[e][s][o];document.querySelectorAll("#player"+r+":not(.empty)").forEach(t=>t.classList.remove("over")),document.querySelectorAll("#player"+a+":not(.empty)").forEach(t=>t.classList.remove("over")),document.querySelectorAll("#group-"+e+"-"+s+"-"+i+"-"+o+":not(.empty)").forEach(t=>t.classList.remove("group-cell-over")),document.querySelectorAll("#group-"+e+"-"+s+"-"+o+"-"+i+":not(.empty)").forEach(t=>t.classList.remove("group-cell-over"))}}function os(t,e){e[0],e[1],e[2],e[3]}function rs(t,e){const s=e[0],o=e[1],r=e[2],a=e[3],n=+new Date;""===t.scores[s][o][r][a][2]?(t.scores[s][o][r][a][2]="progress",t.scores[s][o][a][r][2]="progress",t.scores[s][o][r][a][3]=n,t.scores[s][o][a][r][3]=n):"progress"===t.scores[s][o][r][a][2]&&(t.scores[s][o][r][a][2]="",t.scores[s][o][a][r][2]="",t.scores[s][o][r][a][3]=0,t.scores[s][o][a][r][3]=0),i["a"].set(t.scores[s][o][a],r,t.scores[s][o][a][r])}function as(t,e,s,o=!1){const r=e[0],a=e[1],n=e[2],l=e[3];i["a"].set(t.scores[r][a][n][l],o?1:0,s),i["a"].set(t.scores[r][a][l][n],o?0:1,s),Ge(t,t.groups[r],t.seeds[r][a],t.scores[r][a],t.places[r][a],t.curves[r],t.deltas[r],r,a)}function ns(t,e){const s=e[0],o=e[1],r=e[2],a=e[3];i["a"].set(t.scores[s][o][r],a,[0,0,"",0,0]),i["a"].set(t.scores[s][o][a],r,[0,0,"",0,0]),Ge(t,t.groups[s],t.seeds[s][o],t.scores[s][o],t.places[s][o],t.curves[s],t.deltas[s],s,o)}function ls(t,e,s=!1){const o=e[0],r=e[1],a=e[2],n=e[3],l=+new Date;if(i["a"].set(t.scores[o][r][a][n],2,s?"win2":"win1"),i["a"].set(t.scores[o][r][n][a],2,s?"win1":"win2"),i["a"].set(t.scores[o][r][a][n],4,l),i["a"].set(t.scores[o][r][n][a],4,l),0===t.scores[o][r][a][n][3]){const e=3e5;i["a"].set(t.scores[o][r][a][n],3,l-e),i["a"].set(t.scores[o][r][n][a],3,l-e)}}function cs(t,e,s,i,o,r,a,n=!0){-1!==i&&(t.seeds[e][s][i]=a,ds(t,e,s,i,a,n)),-1!==o&&(t.seeds[e][s][o]=r,ds(t,e,s,o,r,n))}function ds(t,e,s,i,o,r=!0){if(!t.matches||!t.matches[e]||!t.matches[e][s])return;const a=t.matches[e][s][Math.floor(i/2)];if(!a)return;const n=t.scores[e][s][Math.floor(i/2)][2];let l="win1"===n||"win2"===n,c=-1===a.seeds[1];i%2&&!c?(a.seeds[1]=o,r&&a.curves&&xs(a.curves[1],t,o,a.order[0],a.order[1],a.order[2],1,{color:l?t.colors[o]:null,shiftX:a.curvesShiftX?a.curvesShiftX[1]:0})):(a.seeds[0]=o,r&&a.curves&&xs(a.curves[0],t,o,a.order[0],a.order[1],a.order[2],0,{color:l?t.colors[o]:null,shiftX:a.curvesShiftX?a.curvesShiftX[0]:0}))}function hs(t,e,s){let i=0;while(i<t.seeds[e].length){let o=t.seeds[i].indexOf(s);if(-1!==o)if(o%2)t.seeds[i][o]=-1,i>0&&(t.seeds[i][o-1]=-1);else{let r=t.seeds[i][o+1];for(let o=i+1;o<t.seeds[e].length;o++){let i=t.seeds[e][o].indexOf(s),a=t.seeds[e][o].indexOf(r);cs(t,e,o,i,a,s,r)}t.seeds[i][o]=-1,i>0&&(t.seeds[i][o+1]=-1)}i++}}const us=!1;function ps(t,e,s,i,o=!0){let r=t.matches[s[0]][s[1]][s[2]].seeds[s[3]],a=t.matches[i[0]][i[1]][i[2]].seeds[i[3]];if(us){for(let t=s[0];t<Fs.length;t++){let e=Fs[t].indexOf(r),s=Fs[t].indexOf(a);-1!==e&&-1!==s?(Fs[t][e]=a,Fs[t][s]=r):-1!==e?Fs[t][e]=a:-1!==s&&(Fs[t][s]=r)}Fe(t)}else{for(let i=o?0:s.index+1;i<t.seeds[e].length;i++){let s=t.seeds[e][i].indexOf(r),o=t.seeds[e][i].indexOf(a);cs(t,e,i,s,o,r,a)}localStorage["seeds"]=JSON.stringify(t.seeds)}}function ms(t,e,s){return 1===t&&e>=s/2?1.7*(.75-e/s):2===t&&e>3*s/4?1.1*(1.2-e/s):2===t&&e>s/2?1.8*(.75-e/s):null}function gs(t,e,s,i,o){const r=Ls(t,e,s,i-1),a=t.seeds[e+1][0][r];if(-1===a||void 0===a)return console.log(t.seeds[e+1][0],e,s,i-1),void console.log("wrong rule",r);if(a!==o){console.log("swap seeds");for(let s=0;s<t.seeds[e+1].length;s++){let i=t.seeds[e+1][s].indexOf(a),r=t.seeds[e+1][s].indexOf(o);cs(t,e+1,s,i,r,a,o,!1)}}fs(t,e,o);let{i0:n,j0:l}=Rs(t,o);const c=t.seeds[e+1][0].indexOf(o);t.curves2[1][o]&&Cs(t,e,o,n,l,c,t.curves2[1][o],{color:t.colors[o],shiftX:.12*(s-2)+.05*(i-1)})}function fs(t,e,s,o=!0){if(!t.matches||!t.matches[e+1]||!t.matches[e+1][o?0:1])return;const r=t.seeds[e+1][o?0:1].indexOf(s);let a=t.scores[e+1][o?0:1][Math.floor(r/2)][2];const n=t.matches[e+1][o?0:1][Math.floor(r/2)];r%2?"ready2"===a||"ready"===a||("ready1"===a?a="ready":""!==a&&"progress"!==a||(a="ready2",-1===n.seeds[1]&&fs(t,e,s,!1))):"ready1"===a||"ready"===a||("ready2"===a?a="ready":""!==a&&"progress"!==a||(a="ready1",-1===n.seeds[1]&&fs(t,e,s,!1))),t.scores[e+1][o?0:1][Math.floor(r/2)]&&i["a"].set(t.scores[e+1][o?0:1][Math.floor(r/2)],2,a)}function ys(t,e,s,i,o,r){if(s<t.seeds[e].length-1){let{i0:i,j0:a}=Ns(t,o,e,s);if(-1!==o&&-1!==a){if(!t.scores[e][i][Math.floor(a/2)])return;let s=t.scores[e][i][Math.floor(a/2)][2];a%2?"win1"===s||"win2"===s||("ready1"===s?s="ready":""!==s&&"progress"!==s||(s="ready2")):"win1"===s||"win2"===s||("ready2"===s?s="ready":""!==s&&"progress"!==s||(s="ready1")),t.scores[e][i][Math.floor(a/2)][2]=s}if(({i0:i,j0:a}=Ns(t,r,e,s)),-1!==r&&-1!==a){if(!t.scores[e][i][Math.floor(a/2)])return;let s=t.scores[e][i][Math.floor(a/2)][2];a%2?"win1"===s||"win2"===s||("ready1"===s?s="ready":""!==s&&"progress"!==s||(s="ready2")):"win1"===s||"win2"===s||("ready2"===s?s="ready":""!==s&&"progress"!==s||(s="ready1")),t.scores[e][i][Math.floor(a/2)][2]=s}}}function vs(t,e,s,i,o,r,a){if(s<t.seeds[e].length-1){let{i0:i,j0:n}=Ns(t,o,e,s);if(-1!==o&&-1!==n){const s=t.matches[e][i][Math.floor(n/2)];n%2?xs(s.curves[1],t,o,s.order[0],s.order[1],s.order[2],1,{color:a?t.colors[o]:null,shiftX:s.curvesShiftX[1]}):xs(s.curves[0],t,o,s.order[0],s.order[1],s.order[2],0,{color:a?t.colors[o]:null,shiftX:s.curvesShiftX[0]})}else ws(t,e);if(({i0:i,j0:n}=Ns(t,r,e,s)),-1!==r&&-1!==n){const s=t.matches[e][i][Math.floor(n/2)];n%2?xs(s.curves[1],t,r,s.order[0],s.order[1],s.order[2],1,{color:a?t.colors[r]:null,shiftX:s.curvesShiftX[1]}):xs(s.curves[0],t,r,s.order[0],s.order[1],s.order[2],0,{color:a?t.colors[r]:null,shiftX:s.curvesShiftX[0]})}else ws(t,e)}else ws(t,e)}function xs(t,e,s,i,o,r,a,{color:n,shiftX:l}){if(0===o&&1===i){const a=e.seeds[i][0].indexOf(s);return void Cs(e,i-1,s,o,r,a,t,{color:n,shiftX:l})}let{i0:c,j0:d}=Es(e,s,i,o);const h=0===c&&-1===e.matches[i][c][Math.floor(d/2)].seeds[1]?.5:d%2;d=d%2?d-1:d,t.d=Os(e.mesh[i][c][d]+e.settings.matchWidth,e.mesh[i][c][d+1]+e.settings.matchHeight/4+30*h,e.mesh[i][o][2*r]+0,e.mesh[i][o][2*r+1]+e.settings.matchHeight/4+30*a,l),t.color=n||e.settings.defaultCurveColor,t.dash=n?0:2}function bs(t,e,s,i,o,r,{color:a,shiftX:n}){let{i0:l,j0:c}=Es(t,e,s,i);if(-1===c)return console.error("wrong order",e,i,o),null;const d=t.matches[s][l][Math.floor(c/2)];if(!d)return console.error("wrong match",s,l,c),null;const h=0===l&&-1===d.seeds[1]?.5:c%2;return c=c%2?c-1:c,{d:Os(t.mesh[s][l][c]+t.settings.matchWidth,t.mesh[s][l][c+1]+(t.settings.matchHeight/4+30*h),t.mesh[s][i][2*o]+0,t.mesh[s][i][2*o+1]+t.settings.matchHeight/4+30*r,n),color:a||t.settings.defaultCurveColor,dash:a?0:2}}function ws(t,e){const s=t.settings.finalsSizes;let o=0,r=0,a=s[r];for(let n=0;n<t.settings.fin.length;n++){const e=t.settings.fin[n],l=e[0],c=e[1],d=e[2],h=e[3];if(!t.scores[l][c][d])continue;const u=t.scores[l][c][d][2];if(n+1>a&&(r++,o-=a,r<s.length?a+=s[r]:a+=1e5),"win1"===u){const e=t.seeds[l][c][2*d+h];t.players[e].place=n,t.places[l][n]={fin:r,place:o,seed:e,order:[l,c,d,h]},t.curves2[2][e]?(Ts(t,l,e,r,o,t.curves2[2][e]),i["a"].set(t.places[l],n,t.places[l][n]),i["a"].set(t.curves2[2],e,t.curves2[2][e])):t.curves2[2][e]=ks(t,l,e,r,o)}else if("win2"===u){const e=t.seeds[l][c][2*d+(1-h)];t.players[e].place=n,t.places[l][n]={fin:r,place:o,seed:e,order:[l,c,d,1-h]},t.curves2[2][e]?(Ts(t,l,e,r,o,t.curves2[2][e]),i["a"].set(t.places[l],n,t.places[l][n]),i["a"].set(t.curves2[2],e,t.curves2[2][e])):t.curves2[2][e]=ks(t,l,e,r,o)}else t.places[l][n]={fin:r,place:o,seed:-1};o++}}function $s(t,e){for(let s=0;s<t.players.length;s++)if(t.curves2[0][s])Ps(t,s,t.curves2[0][s],{color:t.colors[s],shiftX:0});else{t.curves2[0][s]=Ss(t,s,{color:t.colors[s],shiftX:0});let{i0:o,j0:r}=Rs(t,s);const a=t.seeds[1][0].indexOf(s);if(-1!==a&&-1!==o&&-1!==r){let n,l=t.scores[1][0][Math.floor(a/2)][2];a%2?"ready2"!==l&&"ready"!==l&&"win1"!==l&&"win2"!==l||(n=_s(t,e,s,o,r,a,{color:t.colors[s],shiftX:.12*(o-2)+.05*(r-1)})):"ready1"!==l&&"ready"!==l&&"win1"!==l&&"win2"!==l||(n=_s(t,e,s,o,r,a,{color:t.colors[s],shiftX:.12*(o-2)+.05*(r-1)})),n||(n=_s(t,e,s,o,r,a,{color:null,shiftX:0})),i["a"].set(t.curves2[1],s,n)}}}function Ps(t,e,s,{color:i,shiftX:o}){let{i0:r,j0:a}=Rs(t,e);s.d=Os(t.settings.playersPosition[0]+t.settings.playersWidth,t.settings.playersPosition[1]+30*e+44,0,t.groups[0][r].position[1]+30*a+44,o||.12*(a-2)),s.color=i||t.settings.defaultCurveColor,s.dash=i?0:2}function Ss(t,e,{color:s,shiftX:i}){let{i0:o,j0:r}=Rs(t,e);return{d:Os(t.settings.playersPosition[0]+t.settings.playersWidth,t.settings.playersPosition[1]+30*e+44,0,t.groups[0][o].position[1]+30*r+44,i||.12*(r-2)),color:s||t.settings.defaultCurveColor,dash:s?0:2}}function _s(t,e,s,i,o,r,{color:a,shiftX:n}){let l=r%2;if(t.matches[e+1])return-1===t.matches[e+1][0][Math.floor(r/2)].seeds[1]&&(l=.5),{d:Os(t.groups[e][i].position[0]+t.settings.groupsRowWidth[e][0],t.groups[e][i].position[1]+30*o+44,t.matches[e+1][0][Math.floor(r/2)].position[0]+t.settings.stagesPosition[e+1][0],t.matches[e+1][0][Math.floor(r/2)].position[1]+t.settings.stagesPosition[e+1][1]+t.settings.matchHeight/4+30*l,n||.12*(i-2)),color:a||t.settings.defaultCurveColor,dash:a?0:2}}function Cs(t,e,s,i,o,r,a,{color:n,shiftX:l}){let c=r%2;-1===t.matches[e+1][0][Math.floor(r/2)].seeds[1]&&(c=.5),a.d=Os(t.groups[e][i].position[0]+t.settings.groupsRowWidth[e][0],t.groups[e][i].position[1]+30*o+44,t.matches[e+1][0][Math.floor(r/2)].position[0]+t.settings.stagesPosition[e+1][0],t.matches[e+1][0][Math.floor(r/2)].position[1]+t.settings.stagesPosition[e+1][1]+t.settings.matchHeight/4+30*c,l||.12*(i-2)),a.color=n||t.settings.defaultCurveColor,a.dash=n?0:2}function ks(t,e,s,i,o){if(!t.settings.showPlaces)return;let{i0:r,j0:a}=Ds(t,s,e),n=a%2;return{d:Os(t.matches[e][r][Math.floor(a/2)].position[0]+t.settings.stagesPosition[e][0]+t.settings.matchWidth,t.matches[e][r][Math.floor(a/2)].position[1]+t.settings.stagesPosition[e][1]+t.settings.matchHeight/4+30*n,t.settings.placesPosition[i][0]+t.settings.stagesPosition[1][0],t.settings.placesPosition[i][1]+t.settings.stagesPosition[1][1]+30*o+44,.12*(r-2)),color:t.colors[s],dash:0}}function Ts(t,e,s,i,o,r){let{i0:a,j0:n}=Ds(t,s,e),l=n%2;r.d=Os(t.matches[e][a][Math.floor(n/2)].position[0]+t.settings.stagesPosition[e][0]+t.settings.matchWidth,t.matches[e][a][Math.floor(n/2)].position[1]+t.settings.stagesPosition[e][1]+t.settings.matchHeight/4+30*l,t.settings.placesPosition[i][0]+t.settings.stagesPosition[1][0]+20,t.settings.placesPosition[i][1]+t.settings.stagesPosition[1][1]+30*o+44,.12*(a-2)),r.color=t.colors[s],r.dash=0}function Os(t,e,s,i,o){const r=.755*(s-t),a=Math.abs(i-e),n=a>200?15*Math.log(a):0;return"M"+t+","+e+" C"+(t+r+.6*n+o*r)+","+e+" "+(s-r-n+o*r)+","+i+" "+s+","+i}function Ws(t,e,s,i){const o=i[0],r=i[1],a=i[2],n=t.deltas[i[0]];n[e]||(n[e]=[]),n[s]||(n[s]=[]);const l=t.scores[o][r][a],c=l[2],d=l[4],h=Ms(t.players[e].rating,t.players[s].rating,[l[0],l[1]]);let u="win1"===c,p=Is(t,u?h[0]:h[1]),m=p>0?"+"+p:String(p),g=Vs(t,e,n[e],o,r,a)+p,f=i[0]?t.deltas[0][e].concat(n[e]):n[e],y=js(t,e,f);As(t,n[e],{x:y,win:u,value:p,text:m,width:5*m.length+8,time:d,seed2:s,order:i,rating:g}),u="win2"===c,p=Is(t,"win2"===c?h[0]:h[1]),m=p>0?"+"+p:String(p),g=Vs(t,s,n[s],o,r,a)+p,f=i[0]?t.deltas[0][s].concat(n[s]):n[s],y=js(t,s,f),As(t,n[s],{x:y,win:u,value:p,text:m,width:5*m.length+8,time:d,seed2:e,order:i,rating:g})}function As(t,e,s){const o=e.findIndex(t=>t.order[1]===s.order[1]&&t.order[2]===s.order[2]);-1===o?i["a"].set(e,e.length,s):i["a"].set(e,o,s),t.settings.playersDeltasWidth<s.x+s.width&&(t.settings.playersDeltasWidth=s.x+s.width)}function Vs(t,e,s,i,o,r){if(s&&0!==s.length){const t=s.findIndex(t=>t.order[1]===o&&t.order[2]===r);return-1===t?s[s.length-1].rating:s[t].rating-s[t].value}if(0===i)return+t.players[e].rating;if(0===t.deltas[i-1][e].length)return+t.players[e].rating;{const s=t.deltas[i-1][e][t.deltas[i-1][e].length-1];return s.rating}}function js(t,e,s,i){if(0===s.length)return 0;{const t=s[s.length-1];return t.x+t.width+5}}function Ms(t,e,[s,i]){if(s===i)return[0,0];if("W"===s||"W"===i)return[0,0];const o=Math.abs(s-i),r=1===o?.5:2===o?.7:1,a=s>i?t:e,n=s<i?t:e,l=a-n;if(l<100){const t=(10-(a-n)/10)*r;return[t,-t/2]}return 2===o?[-l/100/2,l/100]:1===o?[-l/20/2,l/20]:[0,0]}function Rs(t,e){let s=-1,i=-1;const o=t.groups[0];for(s=0;s<o.length;s++)if(i=t.seeds[0][s].indexOf(e),-1!==i)return{i0:s,j0:i};return{i0:0,j0:0}}function Ls(t,e,s,i){let o=0;if(!t.settings.rule)return;const r=t.settings.rule[0];while(o<r.length){if(r[o][0]===s+1&&r[o][1]===i+1)break;o++}return o}function Ns(t,e,s,i){let o=i,r=-1;while(o<t.seeds[s].length-1)if(o++,r=t.seeds[s][o].indexOf(e),-1!==r)return{i0:o,j0:r};return{i0:o,j0:r}}function Es(t,e,s,i){let o=i,r=-1;while(o>0)if(o--,r=t.seeds[s][o].indexOf(e),-1!==r)return{i0:o,j0:r};return{i0:o,j0:r}}function Ds(t,e,s){let i=t.seeds[s].length,o=-1;while(i>0)if(i--,o=t.seeds[s][i].indexOf(e),-1!==o)return{i0:i,j0:o};return{i0:i,j0:o}}function Is(t,e){return"azoft"===t.settings.ratingSystem?Math.round(e):"ttw"===t.settings.ratingSystem?Math.round(100*e)/100:"academtour"===t.settings.ratingSystem?Math.round(e):void 0}function Ks(t,e){e&&(t.settings.defaultZoomX=e.x,t.settings.defaultZoomY=e.y,t.settings.defaultZoomScale=e.scale);const s=t.zoomer;if(s.pan({x:t.settings.defaultZoomX,y:t.settings.defaultZoomY}),s.zoomAtPoint(t.settings.defaultZoomScale,{x:0,y:0}),localStorage["zoom"]){const t=JSON.parse(localStorage["zoom"]);Ve.currentRoute.params["section"]===t.section&&(t.scale&&t.scale>.1&&t.scale<3&&s.zoom(t.scale),t.x&&t.y&&s.pan({x:t.x,y:t.y}))}}const Fs=[[0,15,8,7,4,11,12,3,2,13,10,5,6,9,14,1],[0,8,4,12,2,10,6,14,15,7,11,3,13,5,9,1],[0,4,2,6,10,15,14,11,8,13,12,9,7,3,5,1],[0,2,-1,-1,10,14,8,12,15,11,13,9,7,5,3,1],[-2,-2,4,10,6,8,14,12,15,13,11,9,-1,-1,-1,-1],[-2,-2,4,6,10,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-2,-2,2,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,2,4,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]];var zs=s("9483");Object(zs["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh."),setTimeout(()=>{window.location.reload(!0)},1e3)},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var Gs=s("f309");i["a"].use(Gs["a"]);var Bs=new Gs["a"]({icons:{iconfont:"mdi"}}),Xs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"silentbox-single",attrs:{src:t.src},on:{click:t.openSilentBoxOverlay}},[t._t("default",[s("img",{attrs:{src:t.getThumnail(t.src),width:t.thumbnailWidth,height:t.thumbnailHeight}})]),s("silentbox-overlay")],2)},Hs=[],Us=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"silentbox-item",attrs:{src:t.src},on:{click:t.openSilentBoxOverlay}},[t._t("default",[s("img",{attrs:{src:t.getThumnail(t.src),width:t.thumbnailWidth,height:t.thumbnailHeight}})])],2)},Js=[],qs={methods:{getYoutubeVideoId(t){let e=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/,s=t.match(e);return void 0!==s&&void 0!==s[7]&&s[7]},getVimeoVideoId(t){return/(vimeo(pro)?\.com)\/(?:[^\d]+)?(\d+)\??(.*)?$/.exec(t)[3]}}},Zs={mixins:[qs],methods:{getThumnail(t){if(t.includes("youtube.com")||t.includes("youtu.be")){let e=this.getYoutubeVideoId(t);return"https://img.youtube.com/vi/"+e+"/hqdefault.jpg"}if(t.includes("vimeo.com")){let t=this.httpGet("https://vimeo.com/api/v2/video/54802209.json");return t[0].thumbnail_medium}return t},httpGet(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),JSON.parse(e.responseText)}}},Ys={name:"SilentboxItem",mixins:[Zs],props:{mid:{type:String,required:!0},src:{type:String,required:!0},autoplay:{type:Boolean,default(){return!1}},description:String,position:{},thumbnailWidth:{type:String,default:"200px"},thumbnailHeight:{type:String,default:"150px"},hideControls:{type:Boolean,default(){return!1}}},computed:{embedUrl(){return null!==this.src?this.src:null}},methods:{closeSilentBoxOverlay(){this.$parent.$emit("closeSilentboxOverlay")},openSilentBoxOverlay(){let t=this.$parent.items.list.findIndex(t=>t.src===this.src);this.$parent.$emit("openSilentboxOverlay",{url:this.embedUrl,position:t,autoplay:this.autoplay,description:this.description})}},created(){this.$parent.items.list.push({mid:this.mid,src:this.src,autoplay:this.autoplay,desc:this.description,position:this.position})}},Qs=Ys,ti=(s("6f0c"),Object(l["a"])(Qs,Us,Js,!1,null,null,null)),ei=ti.exports,si=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.isVisible,expression:"isVisible"}],attrs:{id:"silentbox-overlay"}},[s("div",{attrs:{id:"silentbox-overlay__background"},on:{click:function(e){return e.stopPropagation(),t.closeSilentboxOverlay(e)}}}),s("div",{attrs:{id:"silentbox-overlay__content"}},[s("div",{attrs:{id:"silentbox-overlay__embed"}},[s("div",{attrs:{id:"silentbox-overlay__container"},on:{click:function(t){t.stopPropagation()}}},[t.tubeVideo?s("keep-alive",[s("youtube",{ref:"tube",attrs:{"video-id":t.getEmbedUrl,width:"100%",height:"100%"},on:{ready:t.onReady,playing:t.onStartPlaying,paused:t.onPaused}})],1):t._e(),s("keep-alive",[s("audio-player",{ref:"audioPlayer",attrs:{current:t.audioCurrent}})],1),t.tubeVideo&&t.tubeData?s("scoreboard",{attrs:{score1:t.scoreArray[0],score2:t.scoreArray[1],record1:t.scoreArray[2],record2:t.scoreArray[3],status:t.scoreStatus,id:"board"}}):t._e(),t.vimeoVideo?s("iframe",{attrs:{width:"100%",height:"100%",src:t.getEmbedUrl,frameborder:"0",allow:t.getAutoplayState,allowfullscreen:""}}):t._e(),t.vimeoVideo||t.tubeVideo?t._e():s("img",{attrs:{width:"auto",height:"auto",src:t.getEmbedUrl}})],1),this.$parent.description?s("p",{attrs:{id:"silentbox-overlay__description"},on:{click:function(t){t.stopPropagation()}}},[t._v(t._s(this.$parent.description))]):t._e()])]),s("div",{attrs:{id:"silentbox-overlay__close-button",role:"button",tabindex:"3"},on:{click:function(e){return e.stopPropagation(),t.closeSilentboxOverlay(e)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.closeSilentboxOverlay(e)}}},[s("div",{staticClass:"icon"})]),this.$parent.items.total>0?s("div",{attrs:{id:"silentbox-overlay__arrow-buttons"}},[s("div",{staticClass:"arrow arrow-previous",attrs:{role:"button",tabindex:"2"},on:{click:t.moveToPreviousItem,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.moveToPreviousItem(e)}}}),s("div",{staticClass:"arrow arrow-next",attrs:{role:"button",tabindex:"1"},on:{click:t.moveToNextItem,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.moveToNextItem(e)}}})]):t._e()])},ii=[],oi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._l(t.audios,(function(t,e){return s("audio",{key:"aPlayer"+e,attrs:{id:"aPlayer"+e,src:t,preload:"auto"}})})),0)},ri=[];const ai=t=>{let e=new Date(1e3*t).toISOString().substr(11,8);return e};var ni={name:"audioPlayer",props:{current:{type:String,default:""},autoPlay:{type:Boolean,default:!1}},computed:{duration:function(){return this.audio?ai(this.audio.duration):""},audioIndex:function(){return this.audios.indexOf(this.current)},audio:function(){return document.querySelector("#aPlayer"+this.audioIndex)}},watch:{current:{immediate:!0,handler(t,e){if(t&&(this.audios.includes(t)||this.audios.push(t),e)){const t=this.audios.indexOf(e),s=document.querySelector("#aPlayer"+t);s&&(s.pause(),s.currentTime=0)}}}},data(){return{audios:[],isMuted:!1,loaded:!1,playing:!1,paused:!1,percentage:0,currentTime:"00:00:00",totalDuration:0}},methods:{getDuration(){return!this.audio||!this.audio.readyState||this.audio.readyState<2?0:this.audio.duration},getPosition(){return!this.audio||!this.audio.readyState||this.audio.readyState<2?0:this.audio.currentTime},setPosition(t){!this.audio||!this.audio.readyState||this.audio.readyState<2||(this.audio.currentTime=t)},getVolume(){return!this.audio||!this.audio.readyState||this.audio.readyState<2?0:this.audio.volume},setVolume(t){if(!this.audio||!this.audio.readyState||this.audio.readyState<2)return 0;this.audio.volume=t},setPercentPosition(t){this.audio.currentTime=parseInt(this.audio.duration/100*t)},stop(){this.paused=this.playing=!1,this.audio&&(this.audio.pause(),this.audio.currentTime=0)},play(){return!this.audio||!this.audio.readyState||this.audio.readyState<2?Promise.resolve(null):(this.paused=!1,this.playing=!0,this.audio.play())},pause(){this.paused=!0,this.playing=!1,this.audio&&this.audio.readyState&&this.audio.pause()},download(){this.audio.pause(),window.open(this.file,"download")},mute(){this.isMuted=!this.isMuted,this.audio.muted=this.isMuted},reload(){this.audio.load()},preloadAudio(t){t.forEach(t=>{this.audios.includes(t)||this.audios.push(t)})}}},li=ni,ci=Object(l["a"])(li,oi,ri,!1,null,null,null),di=ci.exports,hi=s("e0ec"),ui=s.n(hi),pi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"scoreboard"},[s("div",{staticClass:"team",class:{win:"win1"===t.status,lost:"win2"===t.status}},[t.videoState.chevrons[0]?s("div",{staticClass:"chevron",style:"background-color: "+t.videoState.chevrons[0]}):t._e(),s("div",{staticClass:"rank"},[t._v(t._s(t.videoState.ratings[0]))]),t.videoState.logos&&t.videoState.logos[0]?s("img",{staticClass:"logo",attrs:{src:t.videoState.logos[0]}}):t._e(),s("div",{staticClass:"name"},[t._v(t._s(t.videoState.names[0]))]),s("div",{staticClass:"score"},[t._v(t._s(t.score1))]),""===t.status?s("div",{staticClass:"record"},[t._v(t._s(t.record1))]):t._e()]),s("div",{staticClass:"divider"},[""===t.status?s("p",[t._v(t._s(t.videoState.subtitle))]):t._e()]),s("div",{staticClass:"team",class:{win:"win2"===t.status,lost:"win1"===t.status}},[t.videoState.chevrons[1]?s("div",{staticClass:"chevron",style:"background-color: "+t.videoState.chevrons[1]}):t._e(),s("div",{staticClass:"rank"},[t._v(t._s(t.videoState.ratings[1]))]),t.videoState.logos[1]?s("img",{staticClass:"logo",attrs:{src:t.videoState.logos[1]}}):t._e(),s("div",{staticClass:"name"},[t._v(t._s(t.videoState.names[1]))]),s("div",{staticClass:"score"},[t._v(t._s(t.score2))]),""===t.status?s("div",{staticClass:"record"},[t._v(t._s(t.record2))]):t._e()])])},mi=[],gi={props:{score1:{type:[Number,String],default:0},score2:{type:[Number,String],default:0},record1:{type:[Number,String],default:0},record2:{type:[Number,String],default:0},status:{type:String,default:""}},computed:{videoState(){return this.$store.state.video}}},fi=gi,yi=(s("c023"),Object(l["a"])(fi,pi,mi,!1,null,null,null)),vi=yi.exports;i["a"].use(ui.a);var xi={name:"SilentboxOverlay",components:{Scoreboard:vi,audioPlayer:di},mixins:[qs],data(){return{videoId:"",videoState:null,vimeoVideo:!1,audioPlayer:null,tubePlayer:null,tubeVideo:!1,tubeData:!1,tubePosition:0,tubePositionLast:0,tubePositionIndex:0,tubePlaying:!1,audioPosition:0,audioPositionIndex:0,audioCurrent:"",lastPoint:null,interval:null,oldKeyDown:null,keyAdded:!1}},computed:{audioTime(){return this.videoState.audioTime||[0]},audioFiles(){return this.videoState.audio||[""]},scoreTime(){return this.videoState.scoreTime},score(){return this.videoState.score},scoreStatus(){if(!this.scoreTime||!this.scoreArray||this.scoreArray.length<=4)return"";const t=this.scoreArray[4];return"100"===t?"win1":"200"===t?"win2":""},scoreArray(){return this.scoreTime&&this.score&&this.scoreTime.length&&this.score.length?-1===this.tubePositionIndex?this.score[this.score.length-1].split(" "):this.score[this.tubePositionIndex].split(" "):[0,0,0,0,0]},getEmbedUrl(){return this.handleUrl(this.$parent.embedUrl)},getAutoplayState(){return void 0!==this.$parent.autoplay&&!1!==this.$parent.autoplay?"autoplay":""},isVisible(){return void 0!==this.$parent.overlayVisibility&&!1!==this.$parent.overlayVisibility}},watch:{isVisible:function(t){void 0!==document&&this.bodyScrolling(),t?this.tubePlayer&&this.tubePlayer.playVideo():(this.tubeVideo&&this.stopTubeVideo(),null!==this.$route.params.media&&this.$router.push({params:{...this.$route.params,score:null,media:null}}))},tubePosition:function(t){if(!this.tubeData)return;let e=0;const s=this.scoreTime?this.scoreTime.length-1:0;while(e<s&&this.tubePosition>this.scoreTime[e])e++;const i=this.tubePosition<this.scoreTime[e]?e-1:e;if(i!==this.tubePositionIndex&&(this.tubePositionIndex=i,i>0)){const t=this.scoreArray[0]+":"+this.scoreArray[1]+"-"+this.scoreArray[2]+":"+this.scoreArray[3];t!==this.$route.params.score&&this.$router.replace({params:{...this.$route.params,score:t}})}},audioPosition:async function(t){if(!this.tubeData)return;let e=0;const s=this.audioTime?this.audioTime.length-1:0;while(e<s&&this.audioPosition>this.audioTime[e])e++;const i=this.audioPosition<this.audioTime[e]?e-1:e,o=t-this.audioTime[i];this.audioFiles[i]!==this.audioCurrent&&(this.audioPlayer.stop(),this.audioCurrent=this.audioFiles[i]),Math.abs(o-this.audioPlayer.getPosition())>3&&this.audioPlayer.setPosition(o),this.tubePlaying&&!this.audioPlayer.playing&&this.audioPlayer.play().catch(t=>{this.tubePlayer.pauseVideo()});const r=await this.tubePlayer.isMuted()?0:await this.tubePlayer.getVolume()/100;Math.abs(r-this.audioPlayer.getVolume())>.1&&this.audioPlayer.setVolume(r)}},methods:{initKey(){this.tubePlayer&&this.isVisible&&(this.oldKeyDown=document.onkeydown,document.querySelector("#silentbox-overlay iframe").onkeydown=document.onkeydown=t=>{if(t=t||window.event,console.log("scores",t.code),"BracketLeft"===t.code&&t.altKey)this.$store.dispatch("shrinkVideoPoint",{position:this.tubePosition});else if("BracketRight"===t.code&&t.altKey)this.$store.dispatch("showVideoPoint",{position:this.tubePosition});else if("BracketLeft"===t.code)this.$store.dispatch("addVideoPoint",this.lastPoint={k:t.shiftKey?0:2,position:this.tubePosition});else if("BracketRight"===t.code)this.$store.dispatch("addVideoPoint",this.lastPoint={k:t.shiftKey?1:3,position:this.tubePosition});else if("Backspace"===t.code)this.prevScore(),this.scoreTime.length>0&&(this.scoreTime.pop(),this.score.pop());else if("KeyR"===t.code&&this.lastPoint)this.scoreTime.length>0&&(this.scoreTime.pop(),this.score.pop()),this.lastPoint.k=this.lastPoint.k<2?1-this.lastPoint.k:5-this.lastPoint.k,this.$store.dispatch("addVideoPoint",this.lastPoint);else if("ArrowLeft"===t.code)this.prevScore();else if("ArrowRight"===t.code)this.nextScore();else if("Home"===t.code)this.firstScore();else if("End"===t.code)this.lastScore();else if("Space"===t.code)this.playPauseTubeVideo();else if("KeyM"===t.code&&t.altKey)this.audioPlayer.mute();else if("KeyV"===t.code&&t.altKey){const t=document.querySelector("#board");console.log(t),t&&(t.classList.contains("board-hide")?t.classList.remove("board-hide"):t.classList.add("board-hide"))}else if("KeyT"===t.code&&t.altKey){let t=0,e=0,s=[];for(let i=0;i<this.score.length;i++){let o=this.score[i].split(" ");if("0"===o[2]&&"0"===o[3]&&0!==i){e++;let o=new Date(1e3*this.scoreTime[i]).toISOString().substr(14,5),r=new Date(1e3*this.scoreTime[i]-t).toISOString().substr(14,5),a=new Date(t).toISOString().substr(14,5);s.push('"'+a+'"'),console.log(e,"starts:",a,"length:",r,"ends:",o),t=1e3*this.scoreTime[i]}}console.log('"audioTime": ['+s.join(",")+"]")}})},bodyScrolling(){let t=document.body;return this.isVisible&&!t.classList.contains("silentbox-is-opened")?t.classList.add("silentbox-is-opened"):!this.isVisible&&t.classList.contains("silentbox-is-opened")?t.classList.remove("silentbox-is-opened"):void 0},moveToNextItem(){this.$parent.nextItem(),this.$route.params.media!==this.$parent.mid&&this.$router.replace({params:{...this.$route.params,score:null,media:this.$parent.mid}})},moveToPreviousItem(){this.$parent.prevItem(),this.$route.params.media!==this.$parent.mid&&this.$router.replace({params:{...this.$route.params,score:null,media:this.$parent.mid}})},closeSilentboxOverlay(){this.$parent.$emit("closeSilentboxOverlay")},handleUrl(t){if(t.includes("youtube.com")||t.includes("youtu.be")){this.vimeoVideo=!1,this.tubeVideo=!0;const e=this.getYoutubeVideoId(t);return this.videoId!==e&&(this.videoId=e,this.tubeData=!1,this.tubePlayer&&this.isVisible&&this.startTubeVideo()),this.videoId}return t.includes("vimeo")?(this.tubeVideo&&this.stopTubeVideo(),this.tubeVideo=!1,this.vimeoVideo=!0,this.getVimeoVideo(t)):(this.tubeVideo&&this.stopTubeVideo(),this.tubeVideo=!1,this.vimeoVideo=!1,t)},getYoutubeVideo(t){let e="",s=this.getYoutubeVideoId(t);return s&&(e="https://www.youtube.com/embed/"+s+"?rel=0",this.$parent.autoplay&&(e+="&amp;autoplay=1"),this.$parent.showControls&&(e+="&amp;controls=0")),e},getVimeoVideo(t){let e="";const s=/(vimeo(pro)?\.com)\/(?:[^\d]+)?(\d+)\??(.*)?$/.exec(t)[3];return void 0!==s&&(e="https://player.vimeo.com/video/"+s+"?api=1",this.$parent.autoplay&&(e+="&autoplay=1")),e},onStartPlaying(){this.tubePlaying=!0,this.clearInterval(),this.interval=setInterval(this.updateScore,100),this.updateScore()},onPaused(){this.clearInterval(),this.tubePlaying=!1,this.audioPlayer.pause()},onReady(){this.tubePlayer=this.$refs.tube.player,this.audioPlayer=this.$refs.audioPlayer,this.isVisible&&this.startTubeVideo()},stopTubeVideo(){this.tubePlaying=!1,this.tubePlayer.pauseVideo(),this.audioPlayer.stop(),document.onkeydown=this.oldKeyDown,this.keyAdded=!1},startTubeVideo(){this.keyAdded||setTimeout(()=>this.initKey()),this.tubePlaying=!1,this.tubePlayer.playVideo(),this.loadBoard(this.videoId)},async playPauseTubeVideo(){const t=await this.tubePlayer.getPlayerState();t?this.tubePlayer.pauseVideo():this.tubePlayer.playVideo()},async loadBoard(t){await this.$store.dispatch("loadVideoBoard",t),this.videoState=this.$store.state.video,this.tubeData=!!this.videoState,this.tubeData&&(this.audioPlayer.preloadAudio(this.videoState.audio),this.audioFiles&&this.audioFiles[0]!==this.audioCurrent&&(this.audioCurrent=this.audioFiles[0]),this.firstScore(),this.tubePlayer&&this.$route.params.score&&this.seekScore())},seekScore(t){const e=this.$route.params.score.split(/[-: ]+/gi).slice(0,4).join(" "),s=this.score.findIndex(t=>0===t.indexOf(e));s>-1&&(this.tubePlayer.seekTo(this.scoreTime[s]),this.audioPlayer.setPosition(this.scoreTime[s]),this.audioPlayer.play())},updateScore(){this.tubePlayer&&this.tubeData&&this.isVisible||this.clearInterval(),this.tubePlayer.getCurrentTime().then(t=>{this.tubePosition=t,this.audioPosition=t})},updatePosition(t){this.tubePositionLast!==t&&(this.tubePositionLast=t)},prevScore(){this.tubePositionIndex>0&&(this.tubePositionIndex--,this.tubePlayer.seekTo(this.scoreTime[this.tubePositionIndex]))},nextScore(){this.tubePositionIndex<this.scoreTime.length-1&&(this.tubePositionIndex++,this.tubePlayer.seekTo(this.scoreTime[this.tubePositionIndex]))},firstScore(){this.tubePosition=0,this.tubePositionIndex=0,this.tubePlayer.seekTo(0)},lastScore(){this.tubePositionIndex=this.scoreTime.length-1,this.tubePlayer.seekTo(this.scoreTime[this.tubePositionIndex])},clearInterval(){this.interval&&(clearInterval(this.interval),this.interval=null)}},beforeDestroy(){this.clearInterval()}},bi=xi,wi=(s("5c37"),Object(l["a"])(bi,si,ii,!1,null,null,null)),$i=wi.exports,Pi={name:"SilentboxSingle",mixins:[Zs],props:{mid:{type:String,required:!0},src:{type:String,required:!0},autoplay:{type:Boolean,default(){return!1}},description:String,thumbnailWidth:{type:String,default:"200px"},thumbnailHeight:{type:String,default:"150px"},hideControls:{type:Boolean,default(){return!1}}},data(){return{overlayVisibility:!1,embedUrl:void 0,items:{total:0,position:0}}},methods:{closeSilentBoxOverlay(){this.overlayVisibility=!1},openSilentBoxOverlay(){null!==this.src&&(this.embedUrl=this.src),this.overlayVisibility=!0}},components:{SilentboxOverlay:$i,SilentboxItem:ei},mounted(){this.$on("closeSilentboxOverlay",()=>{this.overlayVisibility=!1}),window.addEventListener("keyup",t=>{27==t.which&&(this.overlayVisibility=!1)})}},Si=Pi,_i=(s("5d06"),Object(l["a"])(Si,Xs,Hs,!1,null,null,null)),Ci=_i.exports,ki=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{attrs:{id:"silentbox-group"}},[t._t("default"),s("silentbox-overlay")],2)},Ti=[],Oi={name:"SilentboxGroup",data(){return{overlayVisibility:!1,mid:"",embedUrl:"",items:{total:0,position:0,list:[]},autoplay:!1,description:""}},watch:{"items.list":function(t,e){this.updateTotal(t)}},methods:{updateTotal(t){this.items.total=this.items.list.length},nextItem(){this.items.position!==this.items.total-1?this.items.position++:this.items.position=0,this.mid=this.items.list[this.items.position].mid,this.embedUrl=this.items.list[this.items.position].src,this.autoplay=void 0!==this.items.list[this.items.position].autoplay&&this.items.list[this.items.position].autoplay,this.description=void 0!==this.items.list[this.items.position].desc&&this.items.list[this.items.position].desc},prevItem(){0!==this.items.position?this.items.position--:this.items.position=this.items.total-1,this.mid=this.items.list[this.items.position].mid,this.embedUrl=this.items.list[this.items.position].src,this.autoplay=void 0!==this.items.list[this.items.position].autoplay&&this.items.list[this.items.position],this.description=void 0!==this.items.list[this.items.position].desc&&this.items.list[this.items.position].desc},setOpened(t){this.embedUrl=t.url,this.items.position=t.position,this.overlayVisibility=!0,this.autoplay=t.autoplay,this.description=t.description}},components:{"silentbox-overlay":$i},mounted(){this.$on("closeSilentboxOverlay",()=>{this.overlayVisibility=!1}),this.$on("openSilentboxOverlay",t=>{this.setOpened(t)}),this.updateTotal(this.items),window.addEventListener("keyup",t=>{27===t.which&&(this.overlayVisibility=!1),39===t.which&&t.shiftKey&&this.nextItem(),37===t.which&&t.shiftKey&&this.prevItem()})}},Wi=Oi,Ai=Object(l["a"])(Wi,ki,Ti,!1,null,null,null),Vi=Ai.exports;const ji={install:function(t,e){t.mixin({components:{"silentbox-single":Ci,"silentbox-group":Vi,"silentbox-item":ei}})}};var Mi=ji;i["a"].use(Mi),i["a"].config.productionTip=!1,new i["a"]({router:Ve,store:De,vuetify:Bs,render:t=>t(p)}).$mount("#app"),window.navigator&&navigator.serviceWorker&&navigator.serviceWorker.getRegistrations().then((function(t){for(let e of t)e.unregister()}))},"584b":function(t,e,s){},"5c37":function(t,e,s){"use strict";var i=s("9075"),o=s.n(i);o.a},"5d06":function(t,e,s){"use strict";var i=s("681b"),o=s.n(i);o.a},"681b":function(t,e,s){},"6f0c":function(t,e,s){"use strict";var i=s("8feb"),o=s.n(i);o.a},"74c9":function(t,e,s){"use strict";var i=s("b98c"),o=s.n(i);o.a},"74f1":function(t,e,s){"use strict";var i=s("8b27"),o=s.n(i);o.a},7875:function(t,e,s){"use strict";var i=s("aeba"),o=s.n(i);o.a},"7b09":function(t,e,s){"use strict";var i=s("bf93"),o=s.n(i);o.a},"7b2c":function(t,e,s){"use strict";var i=s("8a0d"),o=s.n(i);o.a},"8a0d":function(t,e,s){},"8b27":function(t,e,s){},"8feb":function(t,e,s){},9075:function(t,e,s){},"9ede":function(t,e,s){},a193:function(t,e,s){"use strict";var i=s("4a1e"),o=s.n(i);o.a},a48f:function(t,e,s){"use strict";var i=s("281b"),o=s.n(i);o.a},aeba:function(t,e,s){},b745:function(t,e,s){"use strict";var i=s("2fb4"),o=s.n(i);o.a},b98c:function(t,e,s){},bf93:function(t,e,s){},c023:function(t,e,s){"use strict";var i=s("9ede"),o=s.n(i);o.a},e9ed:function(t,e,s){"use strict";var i=s("0878"),o=s.n(i);o.a},eafc:function(t,e,s){"use strict";var i=s("584b"),o=s.n(i);o.a}});
//# sourceMappingURL=app.88bb8e64.js.map